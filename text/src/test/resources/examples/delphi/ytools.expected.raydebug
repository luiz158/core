comment(// vim:ft=pascal)

keyword(unit) ident(YTools)operator(;)

comment({===============================================================================

   cYcnus.YTools 1.0.3 Beta for Delphi 4+
   by licenser and Murphy

   ©2000-2003 by cYcnus
   visit www.cYcnus.de

   licenser@cYcnus.de (Heinz N. Gies\)
   murphy@cYcnus.de (Kornelius Kalnbach\)
   
   this unit is published under the terms of the GPL

===============================================================================})

keyword(interface)

keyword(uses)
  ident(Windows)operator(,) ident(SysUtils)operator(,) ident(Classes)operator(,) ident(YTypes)operator(;)

keyword(const)
  ident(BackSpace) operator(=) char(#8)operator(;)
  ident(Tab) operator(=) char(#9)operator(;)
  ident(LF) operator(=) char(#10)operator(;) comment(//Line Feed)
  ident(CR) operator(=) char(#13)operator(;) comment(//Carriage Return)
  ident(Space) operator(=) char(#32)operator(;)
  ident(EOLChars) operator(=) operator([)ident(CR)operator(,) ident(LF)operator(])operator(;)
preprocessor({$IFNDEF VER140})
  ident(sLineBreak) operator(=) char(#13)char(#10)operator(;)
  ident(SwitchChars) operator(=) operator([)char<delimiter(')content(/)delimiter(')>operator(,) char<delimiter(')content(-)delimiter(')>operator(])operator(;)
preprocessor({$ENDIF})
  ident(EOL) operator(=) ident(sLineBreak)operator(;)
  ident(MaxCard) operator(=) ident(High)operator(()ident(Cardinal)operator(\))operator(;)
  ident(AllChars) operator(=) operator([)char(#0)operator(..)char(#255)operator(])operator(;)
  ident(Alphabetical) operator(=) operator([)char<delimiter(')content(A)delimiter(')>operator(..)char<delimiter(')content(Z)delimiter(')>operator(,) char<delimiter(')content(a)delimiter(')>operator(..)char<delimiter(')content(z)delimiter(')>operator(])operator(;)
  ident(DecimalChars) operator(=) operator([)char<delimiter(')content(0)delimiter(')>operator(..)char<delimiter(')content(9)delimiter(')>operator(])operator(;)
  ident(AlphaNumerical) operator(=) ident(Alphabetical) operator(+) ident(DecimalChars)operator(;)
  ident(StrangeChars) operator(=) operator([)char(#0)operator(..)char(#31)operator(,) char(#127)operator(,) char(#129)operator(,) char(#141)operator(..)char(#144)operator(,) char(#157)operator(,) char(#158)operator(])operator(;)

  ident(HexadecimalChars) operator(=) ident(DecimalChars) operator(+) operator([)char<delimiter(')content(A)delimiter(')>operator(..)char<delimiter(')content(F)delimiter(')>operator(,) char<delimiter(')content(a)delimiter(')>operator(..)char<delimiter(')content(f)delimiter(')>operator(])operator(;)
  ident(OctalChars) operator(=) operator([)char<delimiter(')content(0)delimiter(')>operator(..)char<delimiter(')content(7)delimiter(')>operator(])operator(;)
  ident(BinaryChars) operator(=) operator([)char<delimiter(')content(0)delimiter(')>operator(,) char<delimiter(')content(1)delimiter(')>operator(])operator(;)

  ident(QuoteChars) operator(=) operator([)char<delimiter(')content('')delimiter(')>operator(,) char<delimiter(')content(")delimiter(')>operator(])operator(;)
  ident(WildCards) operator(=) operator([)char<delimiter(')content(*)delimiter(')>operator(,) char<delimiter(')content(?)delimiter(')>operator(])operator(;)
  ident(FileNameEnemies) operator(=) ident(WildCards) operator(+) operator([)char<delimiter(')content(\\)delimiter(')>operator(,) char<delimiter(')content(/)delimiter(')>operator(,) char<delimiter(')content(:)delimiter(')>operator(,) char<delimiter(')content(<)delimiter(')>operator(,) char<delimiter(')content(>)delimiter(')>operator(,) char<delimiter(')content(|)delimiter(')>operator(])operator(;)

  ident(HexChar)operator(:) keyword(array)operator([)ident(THex)operator(]) keyword(of) ident(Char) operator(=) operator(()
    char<delimiter(')content(0)delimiter(')>operator(,)char<delimiter(')content(1)delimiter(')>operator(,)char<delimiter(')content(2)delimiter(')>operator(,)char<delimiter(')content(3)delimiter(')>operator(,)char<delimiter(')content(4)delimiter(')>operator(,)char<delimiter(')content(5)delimiter(')>operator(,)char<delimiter(')content(6)delimiter(')>operator(,)char<delimiter(')content(7)delimiter(')>operator(,)char<delimiter(')content(8)delimiter(')>operator(,)char<delimiter(')content(9)delimiter(')>operator(,)char<delimiter(')content(A)delimiter(')>operator(,)char<delimiter(')content(B)delimiter(')>operator(,)char<delimiter(')content(C)delimiter(')>operator(,)char<delimiter(')content(D)delimiter(')>operator(,)char<delimiter(')content(E)delimiter(')>operator(,)char<delimiter(')content(F)delimiter(')>operator(\))operator(;)
  ident(LowerHexChar)operator(:) keyword(array)operator([)ident(THex)operator(]) keyword(of) ident(Char) operator(=) operator(()
    char<delimiter(')content(0)delimiter(')>operator(,)char<delimiter(')content(1)delimiter(')>operator(,)char<delimiter(')content(2)delimiter(')>operator(,)char<delimiter(')content(3)delimiter(')>operator(,)char<delimiter(')content(4)delimiter(')>operator(,)char<delimiter(')content(5)delimiter(')>operator(,)char<delimiter(')content(6)delimiter(')>operator(,)char<delimiter(')content(7)delimiter(')>operator(,)char<delimiter(')content(8)delimiter(')>operator(,)char<delimiter(')content(9)delimiter(')>operator(,)char<delimiter(')content(a)delimiter(')>operator(,)char<delimiter(')content(b)delimiter(')>operator(,)char<delimiter(')content(c)delimiter(')>operator(,)char<delimiter(')content(d)delimiter(')>operator(,)char<delimiter(')content(e)delimiter(')>operator(,)char<delimiter(')content(f)delimiter(')>operator(\))operator(;)
  ident(BaseNChar)operator(:) keyword(array)operator([)ident(TBaseN)operator(]) keyword(of) ident(Char) operator(=) operator(()
    char<delimiter(')content(0)delimiter(')>operator(,)char<delimiter(')content(1)delimiter(')>operator(,)char<delimiter(')content(2)delimiter(')>operator(,)char<delimiter(')content(3)delimiter(')>operator(,)char<delimiter(')content(4)delimiter(')>operator(,)char<delimiter(')content(5)delimiter(')>operator(,)char<delimiter(')content(6)delimiter(')>operator(,)char<delimiter(')content(7)delimiter(')>operator(,)char<delimiter(')content(8)delimiter(')>operator(,)char<delimiter(')content(9)delimiter(')>operator(,)char<delimiter(')content(A)delimiter(')>operator(,)char<delimiter(')content(B)delimiter(')>operator(,)char<delimiter(')content(C)delimiter(')>operator(,)char<delimiter(')content(D)delimiter(')>operator(,)char<delimiter(')content(E)delimiter(')>operator(,)char<delimiter(')content(F)delimiter(')>operator(,)char<delimiter(')content(G)delimiter(')>operator(,)char<delimiter(')content(H)delimiter(')>operator(,)
    char<delimiter(')content(I)delimiter(')>operator(,)char<delimiter(')content(J)delimiter(')>operator(,)char<delimiter(')content(K)delimiter(')>operator(,)char<delimiter(')content(L)delimiter(')>operator(,)char<delimiter(')content(M)delimiter(')>operator(,)char<delimiter(')content(N)delimiter(')>operator(,)char<delimiter(')content(O)delimiter(')>operator(,)char<delimiter(')content(P)delimiter(')>operator(,)char<delimiter(')content(Q)delimiter(')>operator(,)char<delimiter(')content(R)delimiter(')>operator(,)char<delimiter(')content(S)delimiter(')>operator(,)char<delimiter(')content(T)delimiter(')>operator(,)char<delimiter(')content(U)delimiter(')>operator(,)char<delimiter(')content(V)delimiter(')>operator(,)char<delimiter(')content(W)delimiter(')>operator(,)char<delimiter(')content(X)delimiter(')>operator(,)char<delimiter(')content(Y)delimiter(')>operator(,)char<delimiter(')content(Z)delimiter(')>operator(\))operator(;)

  ident(cYcnusOverlayColor) operator(=) hex($050001)operator(;)

  ident(faFindEveryFile) operator(=) ident(faReadOnly) operator(+) ident(faHidden) operator(+) ident(faSysFile) operator(+) ident(faArchive)operator(;)

  ident(platWin9x) operator(=) operator([)ident(VER_PLATFORM_WIN32s)operator(,) ident(VER_PLATFORM_WIN32_WINDOWS)operator(])operator(;)


comment({ Debugging })
keyword(procedure) ident(ClearReport)operator(()keyword(const) ident(ReportName)operator(:) keyword(string)operator(\))operator(;)
keyword(procedure) ident(Report)operator(()keyword(const) ident(ReportName)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(;)
keyword(procedure) ident(ReportFmt)operator(()keyword(const) ident(ReportName)operator(,) ident(Fmt)operator(:) keyword(string)operator(;) keyword(const) ident(Args)operator(:) keyword(array) keyword(of) keyword(const)operator(\))operator(;)

comment({ Params })
keyword(procedure) ident(GetParams)operator(()ident(Strings)operator(:) ident(TStrings)operator(\))operator(;) directive(overload)operator(;)
keyword(function) ident(GetParams)operator(()keyword(const) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)

keyword(function) ident(ParamNum)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(ParamPrefixNum)operator(()keyword(const) ident(Prefix)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(Param)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(ParamPrefix)operator(()keyword(const) ident(Prefix)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)

keyword(function) ident(Switch)operator(()keyword(const) ident(Switch)operator(:) keyword(string)operator(;) keyword(const) ident(PrefixChars)operator(:) ident(TCharSet) operator(=) ident(SwitchChars)operator(;)
  ident(IgnoreCase)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(GetParam)operator(()keyword(const) ident(Prefix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(;) keyword(const) ident(Default)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(:) keyword(string)operator(;)

comment({ Dirs & UserName})
keyword(function) ident(GetMyDir)operator(()ident(FullPath)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(WinDir)operator(:) keyword(string)operator(;)
keyword(function) ident(SysDir)operator(:) keyword(string)operator(;)
keyword(function) ident(UserName)operator(:) keyword(string)operator(;)

comment({ Strings & Chars})
keyword(function) ident(FirstChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Char)operator(;)
keyword(function) ident(LastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Char)operator(;)

keyword(function) ident(CharPos)operator(()ident(C)operator(:) ident(Char)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(CharPos)operator(()ident(C)operator(:) ident(TCharSet)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(CharPosR)operator(()ident(C)operator(:) ident(Char)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) operator(-)integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(PosEx)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(PosExText)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(PosExAnsiText)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)

keyword(function) ident(UntilChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(UntilChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(UntilLastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(;)
  ident(IgnoreNoBrake)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(FromChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(FromChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(FromLastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(;)
  ident(IgnoreNoBrake)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(BetweenChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Start)operator(,) ident(Finish)operator(:) ident(Char)operator(;)
  ident(Inclusive)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(UntilStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(FromStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(StringWrap)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Width)operator(:) ident(Integer)operator(;) keyword(const) ident(LineEnd)operator(:) keyword(string) operator(=) ident(EOL)operator(\))operator(:) keyword(string)operator(;)

comment({ Splitting & Combining })
keyword(function) ident(Split)operator(()keyword(const) ident(S)operator(,) ident(Separator)operator(:) keyword(string)operator(;) ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(MinCount)operator(:) ident(Integer) operator(=) integer(0)operator(\))operator(:) ident(TStrA)operator(;) directive(overload)operator(;)
keyword(procedure) ident(Split)operator(()keyword(const) ident(S)operator(,) ident(Separator)operator(:) keyword(string)operator(;) ident(Strings)operator(:) ident(TStrings)operator(;)
  ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(;) directive(overload)operator(;)
keyword(function) ident(Split)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Separators)operator(:) ident(TCharSet)operator(;)
  ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(;) ident(MinCount)operator(:) ident(Integer) operator(=) integer(0)operator(\))operator(:) ident(TStrA)operator(;) directive(overload)operator(;)

keyword(procedure) ident(TileStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(BrakeStart)operator(:) ident(Integer)operator(;) ident(BrakeEnd)operator(:) ident(Integer)operator(;)
  keyword(out) ident(Left)operator(,) ident(Right)operator(:) keyword(string)operator(\))operator(;)

keyword(function) ident(Join)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(Join)operator(()ident(StrA)operator(:) ident(TStrA)operator(;) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)

keyword(function) ident(MulStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Count)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)

comment({ Strings ausrichten })
keyword(function) ident(AlignR)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Width)operator(:) ident(Integer)operator(;) ident(Filler)operator(:) ident(Char) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(MaxStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(MaxLen)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)

comment({ Stringing })
keyword(function) ident(TrimAll)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(ControlChar)operator(()ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(FriendlyChar)operator(()ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Char)operator(;)

keyword(function) ident(FriendlyStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(FriendlyStr)operator(()ident(a)operator(:) ident(TByteA)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)

keyword(function) ident(Quote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Quoter)operator(:) ident(Char) operator(=) char<delimiter(')content(")delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(UnQuote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(DeQuote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(StrNumerus)operator(()keyword(const) ident(Value)operator(:) ident(Integer)operator(;) keyword(const) ident(Singular)operator(,) ident(Plural)operator(:) keyword(string)operator(;)
  keyword(const) ident(Zero)operator(:) keyword(string) operator(=) char<delimiter(')content(0)delimiter(')>operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(MakeStr)operator(()keyword(const) ident(Items)operator(:) keyword(array) keyword(of) keyword(const)operator(;) ident(Separator)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(procedure) ident(ShowText)operator(()keyword(const) ident(Items)operator(:) keyword(array) keyword(of) keyword(const)operator(;) ident(Separator)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(;)

comment({ Delete })
keyword(function) ident(DeleteChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(DeleteChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(ExtractChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;)

comment({ Find })
keyword(function) ident(CharCount)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Integer)operator(;)

keyword(function) ident(CharIn)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(CharIn)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)

keyword(function) ident(StrAtPos)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Pos)operator(:) ident(Integer)operator(;) keyword(const) ident(Str)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(StrAtBegin)operator(()keyword(const) ident(S)operator(,) ident(Str)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(StrIn)operator(()keyword(const) ident(S)operator(,) ident(SubStr)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(StrIn)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(StrIn)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(StrIndex)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(StrIndex)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)

keyword(function) ident(TextAtPos)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Pos)operator(:) ident(Integer)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(TextAtBegin)operator(()keyword(const) ident(S)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(TextIn)operator(()keyword(const) ident(S)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(TextIn)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(TextIn)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;) directive(overload)operator(;)
keyword(function) ident(TextIndex)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(TextIndex)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)

comment({ Replace })
keyword(function) ident(ReplaceChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Old)operator(,) ident(New)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(ReplaceChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Old)operator(:) ident(TCharSet)operator(;) ident(New)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)

keyword(function) ident(Replace)operator(()keyword(const) ident(S)operator(,) ident(Old)operator(,) ident(New)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

comment({ TStrings })
keyword(function) ident(SLOfFile)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(TStringList)operator(;)
keyword(function) ident(ContainsEmptyLines)operator(()ident(SL)operator(:) ident(TStrings)operator(\))operator(:) ident(Boolean)operator(;)
keyword(procedure) ident(DeleteEmptyLines)operator(()ident(SL)operator(:) ident(TStrings)operator(\))operator(;)
keyword(procedure) ident(DeleteCommentLines)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(CommentSign)operator(:) keyword(string) operator(=) string<delimiter(')content(//)delimiter(')>operator(\))operator(;)
keyword(procedure) ident(WriteSL)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) keyword(const) ident(Prefix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(;)
  keyword(const) ident(Suffix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(;)

keyword(function) ident(FindLine)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)

keyword(procedure) ident(QuickSortSL)operator(()ident(SL)operator(:) ident(TStringList)operator(\))operator(;)

comment({ TStrA })
keyword(function) ident(IncStrA)operator(()ident(StrA)operator(:) ident(TStrA)operator(\))operator(:) ident(Integer)operator(;)

comment({ TByteA })
keyword(function) ident(StrOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(ByteAOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)
keyword(function) ident(ByteAOfInt)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) ident(TByteA)operator(;)
keyword(function) ident(IntOfByteA)operator(()ident(A)operator(:) ident(TByteA)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(ByteAOfHex)operator(()keyword(const) ident(Hex)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)

keyword(function) ident(SameByteA)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(TByteA)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(Reverse)operator(()ident(a)operator(:) ident(TByteA)operator(\))operator(:) ident(TByteA)operator(;)
keyword(function) ident(SaveByteA)operator(()ident(Data)operator(:) ident(TByteA)operator(;) keyword(const) ident(FileName)operator(:) keyword(string)operator(;) ident(Overwrite)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(LoadByteA)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)

keyword(function) ident(Endian)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;)

comment({ Files })
keyword(function) ident(SizeOfFile)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(function) ident(FileEx)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(;) ident(AllowFolders)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(LWPSolve)operator(()keyword(const) ident(Dir)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(LWPSlash)operator(()keyword(const) ident(Dir)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(ExtractDrive)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(ExtractPath)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(ExtractPrefix)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(ExtractSuffix)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(IsValidFileName)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(MakeValidFileName)operator(()ident(FileName)operator(:) keyword(string)operator(;) keyword(const) ident(Default)operator(:) keyword(string) operator(=) string<delimiter(')content(File)delimiter(')>operator(\))operator(:) keyword(string)operator(;)

comment({ Converting })
keyword(function) ident(IsValidInteger)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(IsValidCardinal)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)

keyword(function) ident(StrOfBool)operator(()ident(flag)operator(:) ident(Boolean)operator(;) keyword(const) ident(TrueStr)operator(:) keyword(string) operator(=) string<delimiter(')content(True)delimiter(')>operator(;)
  keyword(const) ident(FalseStr)operator(:) keyword(string) operator(=) string<delimiter(')content(False)delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(StrOfInt)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(CardOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)

keyword(function) ident(HexOrd)operator(()ident(Hex)operator(:) ident(Char)operator(\))operator(:) ident(THex)operator(;)
keyword(function) ident(ByteOfHex)operator(()ident(Hex)operator(:) ident(THexByteStr)operator(\))operator(:) ident(Byte)operator(;)

keyword(function) ident(DecOfHex)operator(()keyword(const) ident(Hex)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(HexOfByte)operator(()ident(b)operator(:) ident(Byte)operator(\))operator(:) ident(THexByteStr)operator(;)
keyword(function) ident(HexOfCard)operator(()ident(i)operator(:) ident(Cardinal)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(function) ident(HexOfCard)operator(()ident(i)operator(:) ident(Cardinal)operator(;) ident(Digits)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)

keyword(function) ident(PascalHexArray)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Name)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(HexOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Blocks)operator(:) ident(Integer) operator(=) integer(1)operator(;)
  keyword(const) ident(Splitter)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(BinOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Blocks)operator(:) ident(Integer) operator(=) integer(4)operator(;)
  keyword(const) ident(Splitter)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(CardOfHex)operator(()ident(Hex)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)
keyword(function) ident(IntOfBin)operator(()ident(Bin)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)

keyword(function) ident(BinOfIntFill)operator(()ident(n)operator(:) ident(cardinal)operator(;) ident(MinCount)operator(:) ident(Integer) operator(=) integer(8)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(BinOfInt)operator(()ident(n)operator(:) ident(cardinal)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(BaseNOfInt)operator(()ident(I)operator(:) ident(Cardinal)operator(;) ident(B)operator(:) ident(TBaseN)operator(\))operator(:) keyword(string)operator(;)
keyword(function) ident(IntOfBaseN)operator(()ident(V)operator(:) keyword(string)operator(;) ident(B)operator(:) ident(TBaseN)operator(\))operator(:) ident(Cardinal)operator(;)

comment({ Ranges })
keyword(function) ident(KeepIn)operator(()ident(i)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Variant)operator(;)
keyword(function) ident(InRange)operator(()ident(Value)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(InStrictRange)operator(()ident(Value)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(Min)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(Min)operator(()keyword(const) ident(A)operator(:) ident(TIntA)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(Max)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)
keyword(function) ident(Max)operator(()keyword(const) ident(A)operator(:) ident(TIntA)operator(\))operator(:) ident(Integer)operator(;) directive(overload)operator(;)

keyword(const)
  ident(RangesSeparator) operator(=) char<delimiter(')content(,)delimiter(')>operator(;)
  ident(RangeInnerSeparator) operator(=) char<delimiter(')content(-)delimiter(')>operator(;)
  ident(RangeInfinite) operator(=) char<delimiter(')content(*)delimiter(')>operator(;)
  ident(RangeSpecialChars) operator(=) operator([)ident(RangesSeparator)operator(,) ident(RangeInnerSeparator)operator(,) ident(RangeInfinite)operator(])operator(;)

keyword(function) ident(RangesOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(TRanges)operator(;)
keyword(function) ident(InRanges)operator(()ident(Ranges)operator(:) ident(TRanges)operator(;) ident(TestValue)operator(:) ident(Cardinal)operator(\))operator(:) ident(Boolean)operator(;)

keyword(function) ident(Success)operator(()ident(Res)operator(:) ident(Integer)operator(;) ident(ResultOnSuccess)operator(:) ident(Integer) operator(=) ident(ERROR_SUCCESS)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(Failure)operator(()ident(Res)operator(:) ident(Integer)operator(;) ident(ResultOnSuccess)operator(:) ident(Integer) operator(=) ident(ERROR_SUCCESS)operator(\))operator(:) ident(Boolean)operator(;)

keyword(function) ident(ExpandString)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)

comment({ Files })
keyword(procedure) ident(DeleteFiles)operator(()keyword(const) ident(Mask)operator(:) keyword(string)operator(;) ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(\))operator(;)
keyword(procedure) ident(FileNew)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(;)
keyword(function) ident(DateTimeOfFileTime)operator(()keyword(const) ident(FileTime)operator(:) ident(TFileTime)operator(\))operator(:) ident(TDateTime)operator(;)

comment({ FileNames })
keyword(function) ident(GetFileNew)operator(()ident(FileName)operator(:) keyword(string)operator(;) ident(NoFloppyDrives)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) keyword(string)operator(;)

comment({ Finding Files })
keyword(function) ident(FindAll)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) keyword(const) ident(Mask)operator(:) keyword(string)operator(;)
  ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;) ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(;)
  ident(FileReturn)operator(:) ident(TFileNameFunc) operator(=) keyword(nil)operator(\))operator(:) ident(Boolean)operator(;)
keyword(function) ident(FindAllFirst)operator(()keyword(const) ident(Mask)operator(:) keyword(string)operator(;) ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(\))operator(:) keyword(string)operator(;)

keyword(function) ident(FullOSInfo)operator(:) keyword(string)operator(;)
keyword(function) ident(Win32PlatformStr)operator(:) keyword(string)operator(;)
keyword(function) ident(Win9x)operator(:) ident(Boolean)operator(;)
keyword(function) ident(WinNT)operator(:) ident(Boolean)operator(;)
keyword(function) ident(Win2000)operator(:) ident(Boolean)operator(;)
keyword(function) ident(WinXP)operator(:) ident(Boolean)operator(;)

keyword(var)
  ident(MyDir)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(;)
  ident(LastSuccessRes)operator(:) ident(Integer) operator(=) integer(0)operator(;)
  
comment({ Backward compatibility })
preprocessor({$IFNDEF VER130})
keyword(function) ident(SameText)operator(()keyword(const) ident(S1)operator(,) ident(S2)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
preprocessor({$ENDIF})

keyword(implementation)
preprocessor({$IFNDEF VER140})
keyword(uses) ident(FileCtrl)operator(;)
preprocessor({$ENDIF})

preprocessor({$IFNDEF VER130})
keyword(function) ident(SameText)operator(()keyword(const) ident(S1)operator(,) ident(S2)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(CompareText)operator(()ident(S1)operator(,) ident(S2)operator(\)) operator(=) integer(0)operator(;)
keyword(end)operator(;)
preprocessor({$ENDIF})

keyword(procedure) ident(Report)operator(()keyword(const) ident(ReportName)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(;)
keyword(var)
  ident(F)operator(:) ident(TextFile)operator(;)
  ident(FileName)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(FileName) operator(:=) ident(MyDir) operator(+) ident(ReportName) operator(+) string<delimiter(')content(.rep)delimiter(')>operator(;)
  ident(Assign)operator(()ident(F)operator(,) ident(FileName)operator(\))operator(;)
  keyword(try)
    keyword(if) keyword(not) ident(FileExists)operator(()ident(FileName)operator(\)) keyword(then)
      ident(Rewrite)operator(()ident(F)operator(\))
    keyword(else)
      ident(Append)operator(()ident(F)operator(\))operator(;)
    ident(WriteLn)operator(()ident(F)operator(,) ident(Text)operator(\))operator(;)
  keyword(finally)
    ident(Close)operator(()ident(F)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(ClearReport)operator(()keyword(const) ident(ReportName)operator(:) keyword(string)operator(\))operator(;)
keyword(var)
  ident(FileName)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(FileName) operator(:=) ident(MyDir) operator(+) ident(ReportName) operator(+) string<delimiter(')content(.rep)delimiter(')>operator(;)
  ident(DeleteFile)operator(()ident(FileName)operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(ReportFmt)operator(()keyword(const) ident(ReportName)operator(,) ident(Fmt)operator(:) keyword(string)operator(;) keyword(const) ident(Args)operator(:) keyword(array) keyword(of) keyword(const)operator(\))operator(;)
keyword(begin)
  ident(Report)operator(()ident(ReportName)operator(,) ident(Format)operator(()ident(Fmt)operator(,) ident(Args)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(GetParams)operator(()ident(Strings)operator(:) ident(TStrings)operator(\))operator(;)
keyword(var)
  ident(P)operator(:) ident(PChar)operator(;)
  ident(Param)operator(:) keyword(string)operator(;)

  keyword(function) ident(GetParamStr)operator(()keyword(var) ident(P)operator(:) ident(PChar)operator(;) keyword(var) ident(Param)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
  keyword(var)
    ident(Quoted)operator(:) ident(Boolean)operator(;)
  keyword(begin)
    ident(Param) operator(:=) string<delimiter(')delimiter(')>operator(;)

    keyword(repeat)
      keyword(while) operator(()ident(P)operator([)integer(0)operator(]) operator(<>) char(#0)operator(\)) keyword(and) operator(()ident(P)operator([)integer(0)operator(]) operator(<=) char<delimiter(')content( )delimiter(')>operator(\)) keyword(do)
        ident(Inc)operator(()ident(P)operator(\))operator(;)

      ident(Quoted) operator(:=) ident(False)operator(;)
      keyword(while) ident(P)operator([)integer(0)operator(]) operator(<>) char(#0) keyword(do) keyword(begin)
        keyword(if) ident(P)operator([)integer(0)operator(]) operator(=) char<delimiter(')content(")delimiter(')> keyword(then) keyword(begin)
          ident(Quoted) operator(:=) keyword(not) ident(Quoted)operator(;)
          ident(Inc)operator(()ident(P)operator(\))operator(;)
        ident(Continue)operator(;) keyword(end)operator(;)
        keyword(if) operator(()ident(P)operator([)integer(0)operator(]) operator(<=) char<delimiter(')content( )delimiter(')>operator(\)) keyword(and) keyword(not) ident(Quoted) keyword(then)
          ident(Break)operator(;)
        ident(Param) operator(:=) ident(Param) operator(+) ident(P)operator([)integer(0)operator(])operator(;)
        ident(Inc)operator(()ident(P)operator(\))operator(;)
      keyword(end)operator(;)
    keyword(until) operator(()ident(Param) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(or) operator(()ident(P)operator([)integer(0)operator(]) operator(=) char(#0)operator(\))operator(;)

    ident(Result) operator(:=) ident(Param) operator(<>) string<delimiter(')delimiter(')>operator(;)
  keyword(end)operator(;)

keyword(begin)
  ident(Strings)operator(.)ident(Clear)operator(;)
  ident(P) operator(:=) ident(GetCommandLine)operator(;)
  ident(GetParamStr)operator(()ident(P)operator(,) ident(Param)operator(\))operator(;)
  keyword(while) ident(GetParamStr)operator(()ident(P)operator(,) ident(Param)operator(\)) keyword(do)
    ident(Strings)operator(.)ident(Add)operator(()ident(Param)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(GetParams)operator(()keyword(const) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(SL)operator(:) ident(TStringList)operator(;)
keyword(begin)
  ident(SL) operator(:=) ident(TStringList)operator(.)ident(Create)operator(;)
  ident(GetParams)operator(()ident(SL)operator(\))operator(;)
  ident(Result) operator(:=) ident(Join)operator(()ident(SL)operator(,) ident(Separator)operator(\))operator(;)
  ident(SL)operator(.)ident(Free)operator(;)
keyword(end)operator(;)

keyword(function) ident(Switch)operator(()keyword(const) ident(Switch)operator(:) keyword(string)operator(;) keyword(const) ident(PrefixChars)operator(:) ident(TCharSet) operator(=) ident(SwitchChars)operator(;)
  ident(IgnoreCase)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) ident(Boolean)operator(;)
comment(//= SysUtils.FindCmdLineSwitch)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
  ident(s)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(True)operator(;)

  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(ParamCount) keyword(do) keyword(begin)
    ident(s) operator(:=) ident(ParamStr)operator(()ident(i)operator(\))operator(;)

    keyword(if) operator(()ident(s) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) operator(()ident(s)operator([)integer(1)operator(]) keyword(in) ident(PrefixChars)operator(\)) keyword(then) keyword(begin)
    comment(//i know that always s <> '', but this is saver)
      ident(s) operator(:=) ident(Copy)operator(()ident(s)operator(,) integer(2)operator(,) ident(MaxInt)operator(\))operator(;)
      keyword(if) operator(()ident(s) operator(=) ident(Switch)operator(\)) keyword(or) operator(()ident(IgnoreCase) keyword(and) operator(()integer(0)operator(=)ident(AnsiCompareText)operator(()ident(s)operator(,) ident(Switch)operator(\))operator(\))operator(\)) keyword(then)
        ident(Exit)operator(;)
    keyword(end)operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) ident(False)operator(;)
keyword(end)operator(;)

keyword(function) ident(ParamNum)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) integer(1) keyword(to) ident(ParamCount) keyword(do)
    keyword(if) integer(0)operator(=)ident(AnsiCompareText)operator(()ident(ParamStr)operator(()ident(Result)operator(\))operator(,) ident(S)operator(\)) keyword(then)
      ident(Exit)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(ParamPrefixNum)operator(()keyword(const) ident(Prefix)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(Len)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Len) operator(:=) ident(Length)operator(()ident(Prefix)operator(\))operator(;)
  keyword(for) ident(Result) operator(:=) integer(1) keyword(to) ident(ParamCount) keyword(do)
    keyword(if) integer(0)operator(=)ident(AnsiCompareText)operator(()ident(Copy)operator(()ident(ParamStr)operator(()ident(Result)operator(\))operator(,) integer(1)operator(,) ident(Len)operator(\))operator(,) ident(Prefix)operator(\)) keyword(then)
      ident(Exit)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(Param)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(ParamNum)operator(()ident(S)operator(\)) operator(>) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(ParamPrefix)operator(()keyword(const) ident(Prefix)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(ParamPrefixNum)operator(()ident(Prefix)operator(\)) operator(>) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(GetParam)operator(()keyword(const) ident(Prefix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(;) keyword(const) ident(Default)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Default)operator(;)

  keyword(if) ident(Prefix) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(ParamStr)operator(()integer(1)operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(i) operator(:=) ident(ParamPrefixNum)operator(()ident(Prefix)operator(\))operator(;)
  keyword(if) ident(i) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(ParamStr)operator(()ident(i)operator(\))operator(,) ident(Length)operator(()ident(Prefix)operator(\)) operator(+) integer(1)operator(,) ident(MaxInt)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(GetMyDir)operator(()ident(FullPath)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Buffer)operator(:) keyword(array)operator([)integer(0)operator(..)integer(260)operator(]) keyword(of) ident(Char)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(SetString)operator(()ident(Result)operator(,) ident(Buffer)operator(,) ident(GetModuleFileName)operator(()integer(0)operator(,) ident(Buffer)operator(,) ident(SizeOf)operator(()ident(Buffer)operator(\))operator(\))operator(\))operator(;)
  keyword(if) ident(FullPath) keyword(then)
    ident(Result) operator(:=) ident(GetFileNew)operator(()ident(Result)operator(\))operator(;)
  ident(Result) operator(:=) ident(ExtractPath)operator(()ident(Result)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(WinDir)operator(:) keyword(string)operator(;)
keyword(var)
  ident(Res)operator(:) ident(PChar)operator(;)
keyword(begin)
  ident(Result) operator(:=) char<delimiter(')content(\\)delimiter(')>operator(;)
  ident(GetMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
  ident(GetWindowsDirectory)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
  ident(Result) operator(:=) ident(Res) operator(+) char<delimiter(')content(\\)delimiter(')>operator(;)
  ident(FreeMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(SysDir)operator(:) keyword(string)operator(;)
keyword(var)
  ident(Res)operator(:) ident(PChar)operator(;)
keyword(begin)
  ident(Result) operator(:=) char<delimiter(')content(\\)delimiter(')>operator(;)
  ident(GetMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
  ident(GetSystemDirectory)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
  ident(Result) operator(:=) ident(Res) operator(+) char<delimiter(')content(\\)delimiter(')>operator(;)
  ident(FreeMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(UserName)operator(:) keyword(string)operator(;)
keyword(var)
  ident(Len)operator(:) ident(Cardinal)operator(;)
  ident(Res)operator(:) ident(PChar)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(GetMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
  ident(Len) operator(:=) ident(MAX_PATH)operator(;)
  ident(GetUserName)operator(()ident(Res)operator(,) ident(Len)operator(\))operator(;)
  ident(Result) operator(:=) ident(Res)operator(;)
  ident(FreeMem)operator(()ident(Res)operator(,) ident(MAX_PATH)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(FirstChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Char)operator(;)
keyword(begin)
  keyword(if) ident(s) operator(=) string<delimiter(')delimiter(')> keyword(then)
    ident(Result) operator(:=) char(#0)
  keyword(else)
    ident(Result) operator(:=) ident(s)operator([)integer(1)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(LastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Char)operator(;)
keyword(begin)
  keyword(if) ident(s) operator(=) string<delimiter(')delimiter(')> keyword(then)
    ident(Result) operator(:=) char(#0)
  keyword(else)
    ident(Result) operator(:=) ident(s)operator([)ident(Length)operator(()ident(s)operator(\))operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(CharPos)operator(()ident(C)operator(:) ident(Char)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(MaxPosToSearch)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Offset)operator(;)
  ident(MaxPosToSearch) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)

  keyword(while) ident(Result) operator(<=) ident(MaxPosToSearch) keyword(do) keyword(begin)
    keyword(if) ident(S)operator([)ident(Result)operator(]) operator(=) ident(C) keyword(then)
      ident(Exit)operator(;)
    ident(Inc)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(CharPos)operator(()ident(C)operator(:) ident(TCharSet)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(MaxPosToSearch)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Offset)operator(;)
  ident(MaxPosToSearch) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)

  keyword(while) ident(Result) operator(<=) ident(MaxPosToSearch) keyword(do) keyword(begin)
    keyword(if) ident(S)operator([)ident(Result)operator(]) keyword(in) ident(C) keyword(then)
      ident(Exit)operator(;)
    ident(Inc)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(CharPosR)operator(()ident(C)operator(:) ident(Char)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) operator(-)integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(Offset) operator(<) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Length)operator(()ident(S)operator(\)) operator(+) integer(1) operator(-) ident(Offset)
  keyword(else)
    ident(Result) operator(:=) ident(Offset)operator(;)
  keyword(if) ident(Result) operator(>) ident(Length)operator(()ident(S)operator(\)) keyword(then)
    ident(Result) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)

  keyword(while) ident(Result) operator(>) integer(0) keyword(do) keyword(begin)
    keyword(if) ident(S)operator([)ident(Result)operator(]) operator(=) ident(C) keyword(then)
      ident(Exit)operator(;)
    ident(Dec)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(PosEx)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(MaxPosToSearch)operator(,) ident(LenSubStr)operator(,) ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(SubStr) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    ident(Result) operator(:=) integer(0)operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  keyword(if) ident(Offset) operator(<) integer(1) keyword(then)
    ident(Result) operator(:=) integer(1)
  keyword(else)
    ident(Result) operator(:=) ident(Offset)operator(;)

  ident(LenSubStr) operator(:=) ident(Length)operator(()ident(SubStr)operator(\))operator(;)
  ident(MaxPosToSearch) operator(:=) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(LenSubStr) operator(+) integer(1)operator(;)

  keyword(while) ident(Result) operator(<=) ident(MaxPosToSearch) keyword(do) keyword(begin)
    keyword(if) ident(S)operator([)ident(Result)operator(]) operator(=) ident(SubStr)operator([)integer(1)operator(]) keyword(then) keyword(begin)
      ident(i) operator(:=) integer(1)operator(;)

      keyword(while) operator(()ident(i) operator(<) ident(LenSubStr)operator(\))
       keyword(and) operator(()ident(S)operator([)ident(Result) operator(+) ident(i)operator(]) operator(=) ident(SubStr)operator([)ident(i) operator(+) integer(1)operator(])operator(\)) keyword(do)
        ident(Inc)operator(()ident(i)operator(\))operator(;)

      keyword(if) ident(i) operator(=) ident(LenSubStr) keyword(then)
        ident(Exit)operator(;)
    keyword(end)operator(;)
    ident(Inc)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(PosExText)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(MaxPosToSearch)operator(,) ident(LenSubStr)operator(,) ident(i)operator(:) ident(Integer)operator(;)

  keyword(function) ident(SameChar)operator(()ident(a)operator(,) ident(b)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;)
  keyword(begin)
    ident(Result) operator(:=) ident(UpCase)operator(()ident(a)operator(\)) operator(=) ident(UpCase)operator(()ident(b)operator(\))
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(SubStr) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    ident(Result) operator(:=) integer(0)operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  keyword(if) ident(Offset) operator(<) integer(1) keyword(then)
    ident(Result) operator(:=) integer(1)
  keyword(else)
    ident(Result) operator(:=) ident(Offset)operator(;)

  ident(LenSubStr) operator(:=) ident(Length)operator(()ident(SubStr)operator(\))operator(;)
  ident(MaxPosToSearch) operator(:=) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(LenSubStr) operator(+) integer(1)operator(;)

  keyword(while) ident(Result) operator(<=) ident(MaxPosToSearch) keyword(do) keyword(begin)
    keyword(if) ident(SameChar)operator(()ident(S)operator([)ident(Result)operator(])operator(,) ident(SubStr)operator([)integer(1)operator(])operator(\)) keyword(then) keyword(begin)
      ident(i) operator(:=) integer(1)operator(;)

      keyword(while) operator(()ident(i) operator(<) ident(LenSubStr)operator(\))
       keyword(and) operator(()ident(SameChar)operator(()ident(S)operator([)ident(Result) operator(+) ident(i)operator(])operator(,) ident(SubStr)operator([)ident(i) operator(+) integer(1)operator(])operator(\))operator(\)) keyword(do)
        ident(Inc)operator(()ident(i)operator(\))operator(;)

      keyword(if) ident(i) operator(=) ident(LenSubStr) keyword(then)
        ident(Exit)operator(;)
    keyword(end)operator(;)
    ident(Inc)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(PosExAnsiText)operator(()keyword(const) ident(SubStr)operator(,) ident(S)operator(:) keyword(string)operator(;) ident(Offset)operator(:) ident(Integer) operator(=) integer(1)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(MaxPosToSearch)operator(,) ident(LenSubStr)operator(,) ident(i)operator(:) ident(Integer)operator(;)

  keyword(function) ident(SameChar)operator(()ident(a)operator(,) ident(b)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;)
  keyword(begin)
    ident(Result) operator(:=) ident(CharLower)operator(()ident(PChar)operator(()ident(a)operator(\))operator(\)) operator(=) ident(CharLower)operator(()ident(PChar)operator(()ident(b)operator(\))operator(\))operator(;)
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(SubStr) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    ident(Result) operator(:=) integer(0)operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  keyword(if) ident(Offset) operator(<) integer(1) keyword(then)
    ident(Result) operator(:=) integer(1)
  keyword(else)
    ident(Result) operator(:=) ident(Offset)operator(;)

  ident(LenSubStr) operator(:=) ident(Length)operator(()ident(SubStr)operator(\))operator(;)
  ident(MaxPosToSearch) operator(:=) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(LenSubStr) operator(+) integer(1)operator(;)

  keyword(while) ident(Result) operator(<=) ident(MaxPosToSearch) keyword(do) keyword(begin)
    keyword(if) ident(SameChar)operator(()ident(S)operator([)ident(Result)operator(])operator(,) ident(SubStr)operator([)integer(1)operator(])operator(\)) keyword(then) keyword(begin)
      ident(i) operator(:=) integer(1)operator(;)

      keyword(while) operator(()ident(i) operator(<) ident(LenSubStr)operator(\))
       keyword(and) operator(()ident(SameChar)operator(()ident(S)operator([)ident(Result) operator(+) ident(i)operator(])operator(,) ident(SubStr)operator([)ident(i) operator(+) integer(1)operator(])operator(\))operator(\)) keyword(do)
        ident(Inc)operator(()ident(i)operator(\))operator(;)

      keyword(if) ident(i) operator(=) ident(LenSubStr) keyword(then)
        ident(Exit)operator(;)
    keyword(end)operator(;)
    ident(Inc)operator(()ident(Result)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(UntilChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(p) operator(:=) ident(CharPos)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(p) operator(-) integer(1)operator(\))
  keyword(else)
    ident(Result) operator(:=) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(UntilChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(CharPos)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(p) operator(-) integer(1)operator(\))
  keyword(else)
    ident(Result) operator(:=) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(UntilLastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(;)
  ident(IgnoreNoBrake)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(CharPosR)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(p) operator(-) integer(1)operator(\))
  keyword(else) keyword(if) ident(IgnoreNoBrake) keyword(then)
    ident(Result) operator(:=) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(FromChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(CharPos)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(p) operator(+) integer(1)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(FromChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(CharPos)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(p) operator(+) integer(1)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(FromLastChar)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) ident(Char)operator(;)
  ident(IgnoreNoBrake)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(CharPosR)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(p) operator(+) integer(1)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p)operator(\))
  keyword(else) keyword(if) ident(IgnoreNoBrake) keyword(then)
    ident(Result) operator(:=) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(BetweenChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Start)operator(,) ident(Finish)operator(:) ident(Char)operator(;)
  ident(Inclusive)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(,) ident(fin)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)

  ident(p) operator(:=) ident(CharPos)operator(()ident(Start)operator(,) ident(S)operator(\))operator(;)
  keyword(if) ident(p) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  ident(fin) operator(:=) ident(CharPos)operator(()ident(Finish)operator(,) ident(S)operator(,) ident(p) operator(+) integer(1)operator(\))operator(;)
  keyword(if) ident(fin) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  keyword(if) keyword(not) ident(Inclusive) keyword(then) keyword(begin)
    ident(Inc)operator(()ident(p)operator(\))operator(;)
    ident(Dec)operator(()ident(fin)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(fin) operator(-) ident(p) operator(+) integer(1)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(UntilStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(Length)operator(()ident(Brake)operator(\)) operator(=) integer(1) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(UntilChar)operator(()ident(S)operator(,) ident(Brake)operator([)integer(1)operator(])operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(p) operator(:=) ident(PosEx)operator(()ident(Brake)operator(,) ident(S)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(p) operator(-) integer(1)operator(\))
  keyword(else)
    ident(Result) operator(:=) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(FromStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Brake)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(Length)operator(()ident(Brake)operator(\)) operator(=) integer(1) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(FromChar)operator(()ident(S)operator(,) ident(Brake)operator([)integer(1)operator(])operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(p) operator(:=) ident(PosEx)operator(()ident(Brake)operator(,) ident(s)operator(\))operator(;)

  keyword(if) ident(p) operator(>) integer(0) keyword(then) keyword(begin)
    ident(Inc)operator(()ident(p)operator(,) ident(Length)operator(()ident(Brake)operator(\))operator(\))operator(;)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p) operator(+) integer(1)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(StringWrap)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Width)operator(:) ident(Integer)operator(;) keyword(const) ident(LineEnd)operator(:) keyword(string) operator(=) ident(EOL)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(if) operator(()ident(S) operator(=) string<delimiter(')delimiter(')>operator(\)) keyword(or) operator(()ident(Width) operator(<) integer(1)operator(\)) keyword(then)
    ident(Exit)operator(;)

  ident(i) operator(:=) integer(1)operator(;)
  keyword(while) ident(True) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(Result) operator(+) ident(Copy)operator(()ident(S)operator(,) ident(i)operator(,) ident(Width)operator(\))operator(;)
    ident(Inc)operator(()ident(i)operator(,) ident(Width)operator(\))operator(;)
    keyword(if) ident(i) operator(<=) ident(Length)operator(()ident(S)operator(\)) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(LineEnd)
    keyword(else)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(Split)operator(()keyword(const) ident(S)operator(,) ident(Separator)operator(:) keyword(string)operator(;) ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(MinCount)operator(:) ident(Integer) operator(=) integer(0)operator(\))operator(:) ident(TStrA)operator(;)
keyword(var)
  ident(p)operator(,) ident(fin)operator(,) ident(SepLen)operator(:) ident(Integer)operator(;)

  keyword(procedure) ident(Add)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(;)
  keyword(begin)
    keyword(if) ident(IgnoreMultiSep) keyword(and) operator(()ident(S) operator(=) string<delimiter(')delimiter(')>operator(\)) keyword(then)
      ident(Exit)operator(;)
    ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(Result)operator(\)) operator(+) integer(1)operator(\))operator(;)
    ident(Result)operator([)ident(High)operator(()ident(Result)operator(\))operator(]) operator(:=) ident(S)operator(;)
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(S) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    keyword(if) ident(Length)operator(()ident(Result)operator(\)) operator(<) ident(MinCount) keyword(then)
      ident(SetLength)operator(()ident(Result)operator(,) ident(MinCount)operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) keyword(nil)operator(;)
  ident(SepLen) operator(:=) ident(Length)operator(()ident(Separator)operator(\))operator(;)

  ident(p) operator(:=) integer(1)operator(;)
  ident(fin) operator(:=) ident(PosEx)operator(()ident(Separator)operator(,) ident(S)operator(\))operator(;)
  keyword(while) ident(fin) operator(>) integer(0) keyword(do) keyword(begin)
    ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(fin) operator(-) ident(p)operator(\))operator(\))operator(;)
    ident(p) operator(:=) ident(fin) operator(+) ident(SepLen)operator(;)
    ident(fin) operator(:=) ident(PosEx)operator(()ident(Separator)operator(,) ident(S)operator(,) ident(p)operator(\))operator(;)
  keyword(end)operator(;)
  ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p) operator(+) integer(1)operator(\))operator(\))operator(;)

  keyword(if) ident(Length)operator(()ident(Result)operator(\)) operator(<) ident(MinCount) keyword(then)
    ident(SetLength)operator(()ident(Result)operator(,) ident(MinCount)operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(Split)operator(()keyword(const) ident(S)operator(,) ident(Separator)operator(:) keyword(string)operator(;) ident(Strings)operator(:) ident(TStrings)operator(;)
  ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(;) 
keyword(var)
  ident(p)operator(,) ident(fin)operator(,) ident(SepLen)operator(:) ident(Integer)operator(;)

  keyword(procedure) ident(Add)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(;)
  keyword(begin)
    keyword(if) ident(IgnoreMultiSep) keyword(and) operator(()ident(S) operator(=) string<delimiter(')delimiter(')>operator(\)) keyword(then)
      ident(Exit)operator(;)
    ident(Strings)operator(.)ident(Add)operator(()ident(S)operator(\))operator(;)
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(S) operator(=) string<delimiter(')delimiter(')> keyword(then)
    ident(Exit)operator(;)

  ident(Strings)operator(.)ident(BeginUpdate)operator(;)
  ident(SepLen) operator(:=) ident(Length)operator(()ident(Separator)operator(\))operator(;)
  ident(p) operator(:=) integer(1)operator(;)
  ident(fin) operator(:=) ident(PosEx)operator(()ident(Separator)operator(,) ident(S)operator(\))operator(;)
  keyword(while) ident(fin) operator(>) integer(0) keyword(do) keyword(begin)
    ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(fin) operator(-) ident(p)operator(\))operator(\))operator(;)
    ident(p) operator(:=) ident(fin) operator(+) ident(SepLen)operator(;)
    ident(fin) operator(:=) ident(PosEx)operator(()ident(Separator)operator(,) ident(S)operator(,) ident(p)operator(\))operator(;)
  keyword(end)operator(;)
  ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p) operator(+) integer(1)operator(\))operator(\))operator(;)
  ident(Strings)operator(.)ident(EndUpdate)operator(;)
keyword(end)operator(;)

keyword(function) ident(Split)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Separators)operator(:) ident(TCharSet)operator(;)
  ident(IgnoreMultiSep)operator(:) ident(Boolean) operator(=) ident(True)operator(;) ident(MinCount)operator(:) ident(Integer) operator(=) integer(0)operator(\))operator(:) ident(TStrA)operator(;)
keyword(var)
  ident(p)operator(,) ident(fin)operator(:) ident(Integer)operator(;)

  keyword(procedure) ident(Add)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(;)
  keyword(begin)
    keyword(if) ident(IgnoreMultiSep) keyword(and) operator(()ident(S) operator(=) string<delimiter(')delimiter(')>operator(\)) keyword(then)
      ident(Exit)operator(;)
    ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(Result)operator(\)) operator(+) integer(1)operator(\))operator(;)
    ident(Result)operator([)ident(High)operator(()ident(Result)operator(\))operator(]) operator(:=) ident(S)operator(;)
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(S) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    keyword(if) ident(Length)operator(()ident(Result)operator(\)) operator(<) ident(MinCount) keyword(then)
      ident(SetLength)operator(()ident(Result)operator(,) ident(MinCount)operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) keyword(nil)operator(;)

  ident(p) operator(:=) integer(1)operator(;)
  ident(fin) operator(:=) ident(CharPos)operator(()ident(Separators)operator(,) ident(S)operator(\))operator(;)
  keyword(while) ident(fin) operator(>) integer(0) keyword(do) keyword(begin)
    ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(fin) operator(-) ident(p)operator(\))operator(\))operator(;)
    ident(p) operator(:=) ident(fin) operator(+) integer(1)operator(;)
    ident(fin) operator(:=) ident(CharPos)operator(()ident(Separators)operator(,) ident(S)operator(,) ident(p)operator(\))operator(;)
  keyword(end)operator(;)
  ident(Add)operator(()ident(Copy)operator(()ident(S)operator(,) ident(p)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(p) operator(+) integer(1)operator(\))operator(\))operator(;)

  keyword(if) ident(Length)operator(()ident(Result)operator(\)) operator(<) ident(MinCount) keyword(then)
    ident(SetLength)operator(()ident(Result)operator(,) ident(MinCount)operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(TileStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(BrakeStart)operator(:) ident(Integer)operator(;) ident(BrakeEnd)operator(:) ident(Integer)operator(;)
  keyword(out) ident(Left)operator(,) ident(Right)operator(:) keyword(string)operator(\))operator(;)
keyword(begin)
  ident(Left) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(BrakeStart)operator(-)integer(1)operator(\))operator(;)
  ident(Right) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(BrakeEnd) operator(+) integer(1)operator(,) ident(MaxInt)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Join)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(,) ident(imax)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(imax) operator(:=) ident(Strings)operator(.)ident(Count)operator(-)integer(1)operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(imax) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(Result) operator(+) ident(Strings)operator([)ident(i)operator(])operator(;)
    keyword(if) ident(i) operator(<) ident(imax) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Separator)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(Join)operator(()ident(StrA)operator(:) ident(TStrA)operator(;) ident(Separator)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;) directive(overload)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(StrA)operator(\)) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(Result) operator(+) ident(StrA)operator([)ident(i)operator(])operator(;)
    keyword(if) ident(i) operator(<) ident(High)operator(()ident(StrA)operator(\)) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Separator)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(MulStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Count)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(P)operator(:) ident(PChar)operator(;)
  ident(Len)operator(,) ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(if) ident(Count) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  ident(Len) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)
  ident(SetLength)operator(()ident(Result)operator(,) ident(Len) operator(*) ident(Count)operator(\))operator(;)

  ident(P) operator(:=) ident(Pointer)operator(()ident(Result)operator(\))operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Count) keyword(do) keyword(begin)
    ident(Move)operator(()ident(Pointer)operator(()ident(S)operator(\))operator(^)operator(,) ident(P)operator(^)operator(,) ident(Len)operator(\))operator(;)
    ident(Inc)operator(()ident(P)operator(,) ident(Len)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(AlignR)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Width)operator(:) ident(Integer)operator(;) ident(Filler)operator(:) ident(Char) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(MulStr)operator(()ident(Filler)operator(,) ident(Width) operator(-) ident(Length)operator(()ident(S)operator(\))operator(\)) operator(+) ident(S)operator(;)
keyword(end)operator(;)

keyword(function) ident(MaxStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(MaxLen)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Len)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Len) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)
  keyword(if) ident(Len) operator(<=) ident(MaxLen) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(S)operator(;)
  ident(Exit) keyword(end)operator(;)

  ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(MaxLen) operator(-) integer(3)operator(\)) operator(+) string<delimiter(')content(...)delimiter(')>operator(;)
keyword(end)operator(;)

keyword(function) ident(TrimAll)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) ident(S)operator([)ident(i)operator(]) operator(>) char(#32) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(S)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(ControlChar)operator(()ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(C) keyword(in) ident(StrangeChars)operator(;)
keyword(end)operator(;)

keyword(function) ident(FriendlyChar)operator(()ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Char)operator(;)
keyword(begin)
  keyword(case) ident(C) keyword(of)
    char(#0)operator(:) ident(Result) operator(:=) char<delimiter(')content(.)delimiter(')>operator(;)
    char(#1)operator(..)char(#31)operator(:) ident(Result) operator(:=) char<delimiter(')content(?)delimiter(')>operator(;)
    char(#255)operator(:) ident(Result) operator(:=) char<delimiter(')content(#)delimiter(')>operator(;)
  keyword(else)
    ident(Result) operator(:=) ident(C)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(FriendlyStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(S)operator(\))operator(\))operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    ident(Result)operator([)ident(i)operator(]) operator(:=) ident(FriendlyChar)operator(()ident(S)operator([)ident(i)operator(])operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(FriendlyStr)operator(()ident(a)operator(:) ident(TByteA)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(a)operator(\))operator(\))operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(a)operator(\)) keyword(do)
    ident(Result)operator([)ident(i) operator(+) integer(1)operator(]) operator(:=) ident(FriendlyChar)operator(()ident(Char)operator(()ident(a)operator([)ident(i)operator(])operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Quote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Quoter)operator(:) ident(Char) operator(=) char<delimiter(')content(")delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(S)operator(;)

  keyword(if) ident(FirstChar)operator(()ident(S)operator(\)) operator(<>) ident(Quoter) keyword(then)
    ident(Result) operator(:=) ident(Quoter) operator(+) ident(Result)operator(;)

  keyword(if) ident(LastChar)operator(()ident(S)operator(\)) operator(<>) ident(Quoter) keyword(then)
    ident(Result) operator(:=) ident(Result) operator(+) ident(Quoter)operator(;)
keyword(end)operator(;)

keyword(function) ident(DeQuote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(if) ident(Length)operator(()ident(S)operator(\)) operator(>) integer(2) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) integer(2)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) integer(2)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(UnQuote)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Start)operator(,) ident(Len)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Start) operator(:=) integer(1)operator(;)
  ident(Len) operator(:=) ident(Length)operator(()ident(S)operator(\))operator(;)

  keyword(if) operator(()ident(S) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) operator(()ident(S)operator([)integer(1)operator(]) keyword(in) operator(()operator([)char(#0)operator(..)char(#32)operator(]) operator(+) ident(QuoteChars)operator(\))operator(\)) keyword(then) keyword(begin)
    keyword(if) operator(()ident(LastChar)operator(()ident(S)operator(\)) operator(=) ident(S)operator([)integer(1)operator(])operator(\)) keyword(then)
      ident(Dec)operator(()ident(Len)operator(\))operator(;)
    ident(Inc)operator(()ident(Start)operator(\))operator(;)
  keyword(end)operator(;)

  ident(Result) operator(:=) ident(Copy)operator(()ident(S)operator(,) ident(Start)operator(,) ident(Len) operator(-) ident(Start) operator(+) integer(1)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(StrNumerus)operator(()keyword(const) ident(Value)operator(:) ident(Integer)operator(;) keyword(const) ident(Singular)operator(,) ident(Plural)operator(:) keyword(string)operator(;)
  keyword(const) ident(Zero)operator(:) keyword(string) operator(=) char<delimiter(')content(0)delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  keyword(if) ident(Abs)operator(()ident(Value)operator(\)) operator(=) integer(1) keyword(then)
    ident(Result) operator(:=) ident(IntToStr)operator(()ident(Value)operator(\)) operator(+) char<delimiter(')content( )delimiter(')> operator(+) ident(Singular)
  keyword(else) keyword(if) ident(Value) operator(=) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Zero) operator(+) char<delimiter(')content( )delimiter(')> operator(+) ident(Plural)
  keyword(else)
    ident(Result) operator(:=) ident(IntToStr)operator(()ident(Value)operator(\)) operator(+) char<delimiter(')content( )delimiter(')> operator(+) ident(Plural)operator(;)
keyword(end)operator(;)

keyword(function) ident(MakeStr)operator(()keyword(const) ident(Items)operator(:) keyword(array) keyword(of) keyword(const)operator(;) ident(Separator)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(const)
  ident(BoolStrings)operator(:) keyword(array)operator([)ident(Boolean)operator(]) keyword(of) keyword(string) operator(=) operator(()string<delimiter(')content(False)delimiter(')>operator(,) string<delimiter(')content(True)delimiter(')>operator(\))operator(;)

keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)

  keyword(function) ident(StrOfP)operator(()ident(P)operator(:) ident(Pointer)operator(\))operator(:) keyword(string)operator(;)
  keyword(begin)
    keyword(if) ident(P) operator(=) keyword(nil) keyword(then)
      ident(Result) operator(:=) string<delimiter(')content([nil])delimiter(')>
    keyword(else)
      ident(Result) operator(:=) char<delimiter(')content([)delimiter(')> operator(+) ident(IntToStr)operator(()ident(Cardinal)operator(()ident(P)operator(\))operator(\)) operator(+) char<delimiter(')content(])delimiter(')>operator(;)
  keyword(end)operator(;)

  keyword(procedure) ident(Add)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(;)
  keyword(begin)
    ident(Result) operator(:=) ident(Result) operator(+) ident(s) operator(+) ident(Separator)operator(;)
  keyword(end)operator(;)

keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(Items)operator(\)) keyword(do)
    keyword(with) ident(Items)operator([)ident(i)operator(]) keyword(do)
      keyword(case) ident(VType) keyword(of)
        ident(vtString)operator(:)     ident(Add)operator(()ident(VString)operator(^)operator(\))operator(;)
        ident(vtInteger)operator(:)    ident(Add)operator(()ident(IntToStr)operator(()ident(VInteger)operator(\))operator(\))operator(;)
        ident(vtBoolean)operator(:)    ident(Add)operator(()ident(BoolStrings)operator([)ident(VBoolean)operator(])operator(\))operator(;)
        ident(vtChar)operator(:)       ident(Add)operator(()ident(VChar)operator(\))operator(;)
        ident(vtPChar)operator(:)      ident(Add)operator(()ident(VPChar)operator(\))operator(;)
        ident(vtExtended)operator(:)   ident(Add)operator(()ident(FloatToStr)operator(()ident(VExtended)operator(^)operator(\))operator(\))operator(;)
        ident(vtObject)operator(:)     keyword(if) ident(VObject) keyword(is) ident(TComponent) keyword(then)
                        ident(Add)operator(()ident(TComponent)operator(()ident(VObject)operator(\))operator(.)ident(Name)operator(\))
                      keyword(else)
                        ident(Add)operator(()ident(VObject)operator(.)ident(ClassName)operator(\))operator(;)
        ident(vtClass)operator(:)      ident(Add)operator(()ident(VClass)operator(.)ident(ClassName)operator(\))operator(;)
        ident(vtAnsiString)operator(:) ident(Add)operator(()keyword(string)operator(()ident(VAnsiString)operator(\))operator(\))operator(;)
        ident(vtCurrency)operator(:)   ident(Add)operator(()ident(CurrToStr)operator(()ident(VCurrency)operator(^)operator(\))operator(\))operator(;)
        ident(vtInt64)operator(:)      ident(Add)operator(()ident(IntToStr)operator(()ident(VInt64)operator(^)operator(\))operator(\))operator(;)
        ident(vtVariant)operator(:)    ident(Add)operator(()keyword(string)operator(()ident(VVariant)operator(^)operator(\))operator(\))operator(;)

        ident(vtWideChar)operator(:)   ident(Add)operator(()ident(VWideChar)operator(\))operator(;)
        ident(vtPWideChar)operator(:)  ident(Add)operator(()ident(VPWideChar)operator(\))operator(;)
        ident(vtInterface)operator(:)  ident(Add)operator(()ident(StrOfP)operator(()ident(VInterface)operator(\))operator(\))operator(;)
        ident(vtPointer)operator(:)    ident(Add)operator(()ident(StrOfP)operator(()ident(VPointer)operator(\))operator(\))operator(;)
        ident(vtWideString)operator(:) ident(Add)operator(()ident(WideString)operator(()ident(VWideString)operator(\))operator(\))operator(;)
      keyword(end)operator(;)
  keyword(if) ident(Result) operator(<>) string<delimiter(')delimiter(')> keyword(then)
    ident(SetLength)operator(()ident(result)operator(,) ident(Length)operator(()ident(Result)operator(\)) operator(-) ident(Length)operator(()ident(Separator)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(ShowText)operator(()keyword(const) ident(Items)operator(:) keyword(array) keyword(of) keyword(const)operator(;) ident(Separator)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(;)
keyword(var)
  ident(Text)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Text) operator(:=) ident(MakeStr)operator(()ident(Items)operator(,) ident(Separator)operator(\))operator(;)

  ident(MessageBox)operator(()integer(0)operator(,) ident(PChar)operator(()ident(Text)operator(\))operator(,) string<delimiter(')content(Info)delimiter(')>operator(,) ident(MB_OK) keyword(and) ident(MB_APPLMODAL)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(DeleteChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) ident(S)operator([)ident(i)operator(]) operator(<>) ident(C) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(S)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(DeleteChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) keyword(not) operator(()ident(S)operator([)ident(i)operator(]) keyword(in) ident(C)operator(\)) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(S)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(ExtractChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) ident(S)operator([)ident(i)operator(]) keyword(in) ident(C) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(S)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(CharCount)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) ident(S)operator([)ident(i)operator(]) operator(=) ident(C) keyword(then)
      ident(Inc)operator(()ident(Result)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(StrAtPos)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Pos)operator(:) ident(Integer)operator(;) keyword(const) ident(Str)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Str) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) operator(()ident(Str) operator(=) ident(Copy)operator(()ident(S)operator(,) ident(Pos)operator(,) ident(Length)operator(()ident(Str)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(TextAtPos)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Pos)operator(:) ident(Integer)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Text) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) ident(SameText)operator(()ident(Text)operator(,) ident(Copy)operator(()ident(S)operator(,) ident(Pos)operator(,) ident(Length)operator(()ident(Text)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(StrAtBegin)operator(()keyword(const) ident(S)operator(,) ident(Str)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(StrAtPos)operator(()ident(S)operator(,) integer(1)operator(,) ident(Str)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(TextAtBegin)operator(()keyword(const) ident(S)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(TextAtPos)operator(()ident(S)operator(,) integer(1)operator(,) ident(Text)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(CharIn)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(Char)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(True)operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do)
    keyword(if) ident(S)operator([)ident(i)operator(]) operator(=) ident(C) keyword(then) ident(Exit)operator(;)
  ident(Result) operator(:=) ident(False)operator(;)
keyword(end)operator(;)

keyword(function) ident(CharIn)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(C)operator(:) ident(TCharSet)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(False)operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(S)operator(\)) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(S)operator([)ident(i)operator(]) keyword(in) ident(C)operator(;)
    keyword(if) ident(Result) keyword(then)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrIn)operator(()keyword(const) ident(S)operator(,) ident(SubStr)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(PosEx)operator(()ident(SubStr)operator(,) ident(S)operator(\)) operator(>) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrIn)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(False)operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do) keyword(begin)
    ident(Result) operator(:=) operator(()ident(S) operator(=) ident(SL)operator([)ident(i)operator(])operator(\))operator(;)
    keyword(if) ident(Result) keyword(then)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrIn)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(False)operator(;)
  keyword(for) ident(i) operator(:=) ident(Low)operator(()ident(A)operator(\)) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do) keyword(begin)
    ident(Result) operator(:=) operator(()ident(S) operator(=) ident(A)operator([)ident(i)operator(])operator(\))operator(;)
    keyword(if) ident(Result) keyword(then)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(TextIn)operator(()keyword(const) ident(S)operator(,) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(PosExText)operator(()ident(Text)operator(,) ident(S)operator(\)) operator(>) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(TextIn)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(False)operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(SameText)operator(()ident(Text)operator(,) ident(SL)operator([)ident(i)operator(])operator(\))operator(;)
    keyword(if) ident(Result) keyword(then)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(TextIn)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(False)operator(;)
  keyword(for) ident(i) operator(:=) ident(Low)operator(()ident(A)operator(\)) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do) keyword(begin)
    ident(Result) operator(:=) ident(SameText)operator(()ident(Text)operator(,) ident(A)operator([)ident(i)operator(])operator(\))operator(;)
    keyword(if) ident(Result) keyword(then)
      ident(Exit)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrIndex)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do)
    keyword(if) ident(S) operator(=) ident(SL)operator([)ident(Result)operator(]) keyword(then)
      ident(Exit)operator(;)
  ident(Result) operator(:=) operator(-)integer(1)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrIndex)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) ident(Low)operator(()ident(A)operator(\)) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do)
    keyword(if) ident(S) operator(=) ident(A)operator([)ident(Result)operator(]) keyword(then)
      ident(Exit)operator(;)
  ident(Result) operator(:=) operator(-)integer(1)operator(;)
keyword(end)operator(;)

keyword(function) ident(TextIndex)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do)
    keyword(if) ident(SameText)operator(()ident(Text)operator(,) ident(SL)operator([)ident(Result)operator(])operator(\)) keyword(then)
      ident(Exit)operator(;)
  ident(Result) operator(:=) operator(-)integer(1)operator(;)
keyword(end)operator(;)

keyword(function) ident(TextIndex)operator(()ident(A)operator(:) ident(TStrA)operator(;) keyword(const) ident(Text)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) ident(Low)operator(()ident(A)operator(\)) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do)
    keyword(if) ident(SameText)operator(()ident(Text)operator(,) ident(A)operator([)ident(Result)operator(])operator(\)) keyword(then)
      ident(Exit)operator(;)
  ident(Result) operator(:=) operator(-)integer(1)operator(;)
keyword(end)operator(;)

keyword(function) ident(ReplaceChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Old)operator(,) ident(New)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(S)operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(Result)operator(\)) keyword(do)
    keyword(if) ident(Result)operator([)ident(i)operator(]) operator(=) ident(Old) keyword(then)
      ident(Result)operator([)ident(i)operator(]) operator(:=) ident(New)operator(;)
keyword(end)operator(;)

keyword(function) ident(ReplaceChars)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) ident(Old)operator(:) ident(TCharSet)operator(;) ident(New)operator(:) ident(Char)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(S)operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(Result)operator(\)) keyword(do)
    keyword(if) ident(Result)operator([)ident(i)operator(]) keyword(in) ident(Old) keyword(then)
      ident(Result)operator([)ident(i)operator(]) operator(:=) ident(New)operator(;)
keyword(end)operator(;)

keyword(function) ident(Replace)operator(()keyword(const) ident(S)operator(,) ident(Old)operator(,) ident(New)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(oldp)operator(,) ident(ps)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(ps) operator(:=) integer(1)operator(;)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(True) keyword(do) keyword(begin)
    ident(oldp) operator(:=) ident(ps)operator(;)
    ident(ps) operator(:=) ident(PosEx)operator(()ident(Old)operator(,) ident(S)operator(,) ident(oldp)operator(\))operator(;)
    keyword(if) ident(ps) operator(=) integer(0) keyword(then) keyword(begin)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Copy)operator(()ident(S)operator(,) ident(oldp)operator(,) ident(Length)operator(()ident(S)operator(\)) operator(-) ident(oldp) operator(+) integer(1)operator(\))operator(;)
    ident(Exit)operator(;) keyword(end)operator(;)
    ident(Result) operator(:=) ident(Result) operator(+) ident(Copy)operator(()ident(S)operator(,) ident(oldp)operator(,) ident(ps) operator(-) ident(oldp)operator(\)) operator(+) ident(New)operator(;)
    ident(Inc)operator(()ident(ps)operator(,) ident(Length)operator(()ident(Old)operator(\))operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(SLOfFile)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(TStringList)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(TStringList)operator(.)ident(Create)operator(;)
  keyword(if) ident(FileExists)operator(()ident(FileName)operator(\)) keyword(then)
    ident(Result)operator(.)ident(LoadFromFile)operator(()ident(FileName)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ContainsEmptyLines)operator(()ident(SL)operator(:) ident(TStrings)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(StrIn)operator(()ident(SL)operator(,) string<delimiter(')delimiter(')>operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(DeleteEmptyLines)operator(()ident(SL)operator(:) ident(TStrings)operator(\))operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(i) operator(:=) integer(0)operator(;)
  keyword(while) ident(i) operator(<) ident(SL)operator(.)ident(Count) keyword(do) keyword(begin)
    keyword(if) ident(SL)operator([)ident(i)operator(]) operator(=) string<delimiter(')delimiter(')> keyword(then)
      ident(SL)operator(.)ident(Delete)operator(()ident(i)operator(\))
    keyword(else)
      ident(Inc)operator(()ident(i)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(DeleteCommentLines)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(CommentSign)operator(:) keyword(string) operator(=) string<delimiter(')content(//)delimiter(')>operator(\))operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(i) operator(:=) integer(0)operator(;)
  keyword(while) ident(i) operator(<) ident(SL)operator(.)ident(Count) keyword(do) keyword(begin)
    keyword(if) operator(()ident(SL)operator([)ident(i)operator(]) operator(=) string<delimiter(')delimiter(')>operator(\)) keyword(or) operator(()ident(StrAtBegin)operator(()ident(TrimLeft)operator(()ident(SL)operator([)ident(i)operator(])operator(\))operator(,) ident(CommentSign)operator(\))operator(\)) keyword(then)
      ident(SL)operator(.)ident(Delete)operator(()ident(i)operator(\))
    keyword(else)
      ident(Inc)operator(()ident(i)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(FindLine)operator(()ident(SL)operator(:) ident(TStrings)operator(;) keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(Result) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do)
    keyword(if) ident(TextAtBegin)operator(()ident(SL)operator([)ident(Result)operator(])operator(,) ident(S)operator(\)) keyword(then)
      ident(Exit)operator(;)
  ident(Result) operator(:=) operator(-)integer(1)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(QuickSortSL)operator(()ident(SL)operator(:) ident(TStringList)operator(\))operator(;)

  keyword(procedure) ident(Sort)operator(()ident(l)operator(,) ident(r)operator(:) ident(Integer)operator(\))operator(;)
  keyword(var)
    ident(i)operator(,)ident(j)operator(:) ident(Integer)operator(;)
    ident(z)operator(,)ident(x)operator(:) keyword(string)operator(;)
  keyword(begin)
    ident(i) operator(:=) ident(l)operator(;)
    ident(j) operator(:=) ident(r)operator(;)
    ident(x) operator(:=) ident(SL)operator([)operator(()ident(j) operator(+) ident(i)operator(\)) keyword(div) integer(2)operator(])operator(;)
    keyword(repeat)
      keyword(while) ident(SL)operator([)ident(i)operator(]) operator(<) ident(x) keyword(do) ident(Inc)operator(()ident(i)operator(\))operator(;)
      keyword(while) ident(SL)operator([)ident(j)operator(]) operator(>) ident(x) keyword(do) ident(Dec)operator(()ident(j)operator(\))operator(;)
      keyword(if) ident(i) operator(<=) ident(j) keyword(then) keyword(begin)
        ident(z) operator(:=) ident(SL)operator([)ident(i)operator(])operator(;)
        ident(SL)operator([)ident(i)operator(]) operator(:=) ident(SL)operator([)ident(j)operator(])operator(;)
        ident(SL)operator([)ident(j)operator(]) operator(:=) ident(z)operator(;)
        ident(Inc)operator(()ident(i)operator(\))operator(;) ident(Dec)operator(()ident(j)operator(\))operator(;)
      keyword(end)operator(;)
    keyword(until) ident(i) operator(>) ident(j)operator(;)
    keyword(if) ident(j) operator(>) ident(l) keyword(then) ident(Sort)operator(()ident(l)operator(,) ident(j)operator(\))operator(;)
    keyword(if) ident(i) operator(<) ident(r) keyword(then) ident(Sort)operator(()ident(i)operator(,) ident(r)operator(\))operator(;)
  keyword(end)operator(;)

keyword(begin)
  keyword(if) ident(SL)operator(.)ident(Count) operator(>) integer(0) keyword(then)
    ident(Sort)operator(()integer(0)operator(,) ident(SL)operator(.)ident(Count)operator(-)integer(1)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(IncStrA)operator(()ident(StrA)operator(:) ident(TStrA)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(SetLength)operator(()ident(StrA)operator(,) ident(Length)operator(()ident(StrA)operator(\)) operator(+) integer(1)operator(\))operator(;)
  ident(Result) operator(:=) ident(High)operator(()ident(StrA)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(StrOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) keyword(string)operator(()ident(Copy)operator(()ident(a)operator(,) integer(0)operator(,) ident(Length)operator(()ident(a)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ByteAOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(TByteA)operator(()ident(Copy)operator(()ident(S)operator(,) integer(1)operator(,) ident(Length)operator(()ident(s)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ByteAOfInt)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) ident(TByteA)operator(;)
keyword(begin)
  ident(SetLength)operator(()ident(Result)operator(,) ident(SizeOf)operator(()ident(Integer)operator(\))operator(\))operator(;)
  ident(Move)operator(()ident(i)operator(,) ident(Pointer)operator(()ident(Result)operator(\))operator(^)operator(,) ident(SizeOf)operator(()ident(Integer)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(IntOfByteA)operator(()ident(A)operator(:) ident(TByteA)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  ident(Move)operator(()ident(Pointer)operator(()ident(A)operator(\))operator(^)operator(,) ident(Result)operator(,) ident(Min)operator(()ident(Length)operator(()ident(A)operator(\))operator(,) ident(SizeOf)operator(()ident(Integer)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ByteAOfHex)operator(()keyword(const) ident(Hex)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
  ident(h)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(h) operator(:=) ident(ExtractChars)operator(()ident(Hex)operator(,) ident(HexadecimalChars)operator(\))operator(;)
  ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(h)operator(\)) keyword(div) integer(2)operator(\))operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(Result)operator(\)) keyword(do)
    ident(Result)operator([)ident(i)operator(]) operator(:=) ident(ByteOfHex)operator(()ident(Copy)operator(()ident(h)operator(,) operator(()ident(i) keyword(shl) integer(1)operator(\)) operator(+) integer(1)operator(,) integer(2)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(SizeOfFile)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(F)operator(:) keyword(file)operator(;)
keyword(begin)
  ident(AssignFile)operator(()ident(F)operator(,) ident(FileName)operator(\))operator(;)
  preprocessor({$I-})ident(Reset)operator(()ident(F)operator(,) integer(1)operator(\))operator(;)preprocessor({$I+})
  keyword(if) ident(IOResult) operator(=) integer(0) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(FileSize)operator(()ident(F)operator(\))operator(;)
    ident(CloseFile)operator(()ident(F)operator(\))operator(;)
  keyword(end) keyword(else)
    ident(Result) operator(:=) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(FileEx)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(;) ident(AllowFolders)operator(:) ident(Boolean) operator(=) ident(False)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(FindData)operator(:) ident(TWin32FindData)operator(;)
keyword(begin)
  keyword(if) ident(FileName) operator(=) string<delimiter(')delimiter(')> keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(False)operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) operator(()ident(AllowFolders) keyword(and) ident(DirectoryExists)operator(()ident(FileName)operator(\))operator(\)) keyword(or)
    operator(()ident(FindFirstFile)operator(()ident(PChar)operator(()ident(FileName)operator(\))operator(,) ident(FindData)operator(\)) operator(<>) ident(INVALID_HANDLE_VALUE)operator(\))operator(;)
  ident(Result) operator(:=) ident(Result) keyword(and) keyword(not) ident(CharIn)operator(()ident(FileName)operator(,) ident(WildCards)operator(\))operator(;)
  ident(Result) operator(:=) ident(Result) keyword(and) operator(()ident(AllowFolders)
    keyword(or) operator(()operator(()ident(FindData)operator(.)ident(dwFileAttributes) keyword(and) ident(FILE_ATTRIBUTE_DIRECTORY)operator(\)) operator(=) integer(0)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(LWPSolve)operator(()keyword(const) ident(Dir)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  keyword(if) operator(()ident(Dir) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) operator(()ident(Dir)operator([)ident(Length)operator(()ident(Dir)operator(\))operator(]) operator(=) char<delimiter(')content(\\)delimiter(')>operator(\)) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(Copy)operator(()ident(Dir)operator(,) integer(1)operator(,) ident(Length)operator(()ident(Dir)operator(\)) operator(-) integer(1)operator(\))operator(;)
  keyword(end) keyword(else)
    ident(Result) operator(:=) ident(Dir)operator(;)
keyword(end)operator(;)

keyword(function) ident(LWPSlash)operator(()keyword(const) ident(Dir)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  keyword(if) operator(()ident(Dir) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) operator(()ident(Dir)operator([)ident(Length)operator(()ident(Dir)operator(\))operator(]) operator(=) char<delimiter(')content(\\)delimiter(')>operator(\)) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(Copy)operator(()ident(Dir)operator(,) integer(1)operator(,) ident(Length)operator(()ident(Dir)operator(\))operator(\))operator(;)
  keyword(end) keyword(else)
    ident(Result) operator(:=) ident(Dir) operator(+) char<delimiter(')content(\\)delimiter(')>operator(;)
keyword(end)operator(;)

keyword(function) ident(ExtractDrive)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(if) operator(()ident(Length)operator(()ident(FileName)operator(\)) operator(>=) integer(2)operator(\)) keyword(and) operator(()ident(FileName)operator([)integer(2)operator(]) operator(=) char<delimiter(')content(:)delimiter(')>operator(\)) keyword(then)
    ident(Result) operator(:=) ident(UpperCase)operator(()ident(FileName)operator([)integer(1)operator(]) operator(+) string<delimiter(')content(:\\)delimiter(')>operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ExtractPath)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(p)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(p) operator(:=) ident(CharPosR)operator(()char<delimiter(')content(\\)delimiter(')>operator(,) ident(FileName)operator(\))operator(;)
  keyword(if) ident(P) operator(>) integer(0) keyword(then)
    ident(Result) operator(:=) ident(Copy)operator(()ident(FileName)operator(,) integer(1)operator(,) ident(p)operator(\))
  keyword(else)
    ident(Result) operator(:=) ident(FileName)operator(;)
keyword(end)operator(;)

keyword(function) ident(ExtractPrefix)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(UntilLastChar)operator(()ident(ExtractFileName)operator(()ident(FileName)operator(\))operator(,) char<delimiter(')content(.)delimiter(')>operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ExtractSuffix)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(FromLastChar)operator(()ident(ExtractFileName)operator(()ident(FileName)operator(\))operator(,) char<delimiter(')content(.)delimiter(')>operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(SameByteA)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(TByteA)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(A) operator(=) ident(B)operator(\)) keyword(or) operator(()operator(()ident(Length)operator(()ident(A)operator(\)) operator(=) ident(Length)operator(()ident(B)operator(\))operator(\)) keyword(and) ident(CompareMem)operator(()ident(A)operator(,) ident(B)operator(,) ident(Length)operator(()ident(A)operator(\))operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Reverse)operator(()ident(A)operator(:) ident(TByteA)operator(\))operator(:) ident(TByteA)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(SetLength)operator(()ident(Result)operator(,) ident(Length)operator(()ident(A)operator(\))operator(\))operator(;)

  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do)
    ident(Result)operator([)ident(High)operator(()ident(Result)operator(\)) operator(-) ident(i)operator(]) operator(:=) ident(A)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(Endian)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;)
keyword(type)
  ident(EndianArray) operator(=) keyword(packed) keyword(array)operator([)integer(0)operator(..)integer(3)operator(]) keyword(of) ident(Byte)operator(;)
keyword(var)
  ident(a)operator(,) ident(b)operator(:) ident(EndianArray)operator(;)
keyword(begin)
  ident(a) operator(:=) ident(EndianArray)operator(()ident(i)operator(\))operator(;)
  ident(b)operator([)integer(0)operator(]) operator(:=) ident(a)operator([)integer(3)operator(])operator(;)
  ident(b)operator([)integer(1)operator(]) operator(:=) ident(a)operator([)integer(2)operator(])operator(;)
  ident(b)operator([)integer(2)operator(]) operator(:=) ident(a)operator([)integer(1)operator(])operator(;)
  ident(b)operator([)integer(3)operator(]) operator(:=) ident(a)operator([)integer(0)operator(])operator(;)
  ident(Result) operator(:=) ident(Integer)operator(()ident(b)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(SaveByteA)operator(()ident(Data)operator(:) ident(TByteA)operator(;) keyword(const) ident(FileName)operator(:) keyword(string)operator(;)
  ident(Overwrite)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(F)operator(:) keyword(file)operator(;)
keyword(begin)
  keyword(if) ident(FileExists)operator(()ident(FileName)operator(\)) keyword(and) keyword(not) ident(Overwrite) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(False)operator(;)
  ident(Exit) keyword(end)operator(;)

  ident(AssignFile)operator(()ident(F)operator(,) ident(FileName)operator(\))operator(;)
  preprocessor({$I-})ident(Rewrite)operator(()ident(F)operator(,) integer(1)operator(\))operator(;)preprocessor({$I+})
  keyword(if) ident(IOResult) operator(=) integer(0) keyword(then) keyword(begin)
    keyword(if) ident(Length)operator(()ident(Data)operator(\)) operator(>) integer(0) keyword(then)
      ident(BlockWrite)operator(()ident(F)operator(,) ident(Data)operator([)integer(0)operator(])operator(,) ident(Length)operator(()ident(Data)operator(\))operator(\))operator(;)
    ident(CloseFile)operator(()ident(F)operator(\))operator(;)
    ident(Result) operator(:=) ident(True)operator(;)
  keyword(end) keyword(else)
    ident(Result) operator(:=) ident(False)operator(;)
keyword(end)operator(;)

keyword(function) ident(LoadByteA)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(TByteA)operator(;)
keyword(var)
  ident(F)operator(:) keyword(file)operator(;)
keyword(begin)
  ident(AssignFile)operator(()ident(F)operator(,) ident(FileName)operator(\))operator(;)
  preprocessor({$I-})ident(Reset)operator(()ident(F)operator(,) integer(1)operator(\))operator(;)preprocessor({$I+})
  keyword(if) ident(IOResult) operator(=) integer(0) keyword(then) keyword(begin)
    ident(SetLength)operator(()ident(Result)operator(,) ident(FileSize)operator(()ident(F)operator(\))operator(\))operator(;)
    keyword(if) ident(Length)operator(()ident(Result)operator(\)) operator(>) integer(0) keyword(then)
      ident(BlockRead)operator(()ident(F)operator(,) ident(Result)operator([)integer(0)operator(])operator(,) ident(FileSize)operator(()ident(F)operator(\))operator(\))operator(;)
    ident(CloseFile)operator(()ident(F)operator(\))operator(;)
  keyword(end) keyword(else)
    ident(SetLength)operator(()ident(Result)operator(,) integer(0)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(IsValidFileName)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(FileName) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) keyword(not) ident(CharIn)operator(()ident(FileName)operator(,) ident(FileNameEnemies)operator(\))
    keyword(and) ident(CharIn)operator(()ident(Trim)operator(()ident(FileName)operator(\))operator(,) ident(AllChars) operator(-) operator([)char<delimiter(')content(.)delimiter(')>operator(])operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(MakeValidFileName)operator(()ident(FileName)operator(:) keyword(string)operator(;) keyword(const) ident(Default)operator(:) keyword(string) operator(=) string<delimiter(')content(File)delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  keyword(if) ident(FileName) operator(=) string<delimiter(')delimiter(')> keyword(then)
    ident(FileName) operator(:=) ident(Default)operator(;)

  keyword(if) ident(CharIn)operator(()ident(FileName)operator(,) ident(FileNameEnemies)operator(\)) keyword(then)
    ident(Result) operator(:=) ident(ReplaceChars)operator(()ident(FileName)operator(,) ident(FileNameEnemies)operator(,) char<delimiter(')content(_)delimiter(')>operator(\))
  keyword(else) keyword(if) keyword(not) ident(CharIn)operator(()ident(Trim)operator(()ident(FileName)operator(\))operator(,) ident(AllChars) operator(-) operator([)char<delimiter(')content(.)delimiter(')>operator(])operator(\)) keyword(then)
    ident(Result) operator(:=) ident(Default)
  keyword(else)
    ident(Result) operator(:=) ident(FileName)operator(;)
keyword(end)operator(;)

keyword(function) ident(IsValidInteger)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
comment({const
  LowInt = '2147483648';
  HighInt = '2147483647';
var
  len, RealLen, i, o: Integer;
  c: Char;
begin
  Result := False;
  if S = '' then
    Exit;

  len := Length(S\);
  o := 1;
  
  if S[1] = '-' then begin
    if len = 1 then
      Exit;
    Inc(o\);
    while (o <= len\) and (S[o] = '0'\) do
      Inc(o\);
    if o > len then
      Exit;
    if o < len then begin
      RealLen := len - o + 1;
      if RealLen > Length(LowInt\) then
        Exit
      else if RealLen = Length(LowInt\) then begin
        for i := 1 to Length(LowInt\) do begin
          c := S[i + o - 1];
          if (c < '0'\) or (c > LowInt[i]\) then
            Exit;
          if c in ['0'..Char((Byte(LowInt[i]\)-1\)\)] then
            Break;
        end;
        Inc(o, i\);
      end;
    end;
  end else begin
    while (o <= len\) and (S[o] = '0'\) do
      Inc(o\);
    if o <= len then begin
      RealLen := len - o + 1;
      if RealLen > Length(HighInt\) then
        Exit
      else if RealLen = Length(HighInt\) then begin
        for i := 1 to Length(HighInt\) do begin
          c := S[i + o - 1];
          if (c < '0'\) or (c > HighInt[i]\) then
            Exit;
          if c in ['0'..Char((Byte(HighInt[i]\)-1\)\)] then
            Break;
        end;
        Inc(o, i\);
      end;
    end;
  end;

  for i := o to len do
    if not (S[i] in ['0'..'9']\) then
      Exit;

  Result := True;  })
keyword(var)
  ident(i)operator(:) ident(Int64)operator(;)
keyword(begin)
  ident(i) operator(:=) ident(StrToInt64Def)operator(()ident(S)operator(,) ident(High)operator(()ident(Int64)operator(\))operator(\))operator(;)
  ident(Result) operator(:=) operator(()ident(i) operator(>=) ident(Low)operator(()ident(Integer)operator(\))operator(\)) keyword(and) operator(()ident(i) operator(<=) ident(High)operator(()ident(Integer)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(IsValidCardinal)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
comment({const
  HighCard = '4294967295';
var
  len, RealLen, i, o: Integer;
begin
  Result := False;
  if S = '' then
    Exit;

  len := Length(S\);
  o := 1;
  
  while (o <= len\) and (S[o] = '0'\) do
    Inc(o\);
  if o <= len then begin
    RealLen := len - o + 1;
    if RealLen > Length(HighCard\) then
      Exit
    else if RealLen = Length(HighCard\) then begin
      for i := 1 to Length(HighCard\) do begin
        if S[i + o - 1] > HighCard[i] then
          Exit;
        if S[i + o - 1] in ['0'..Char((Byte(HighCard[i]\)-1\)\)] then
          Break;
      end;
      Inc(o, i\);
    end;
  end;

  for i := o to len do
    if not (S[i] in ['0'..'9']\) then
      Exit;

  Result := True;  })
keyword(var)
  ident(i)operator(:) ident(Int64)operator(;)
keyword(begin)
  ident(i) operator(:=) ident(StrToInt64Def)operator(()ident(S)operator(,) operator(-)integer(1)operator(\))operator(;)
  ident(Result) operator(:=) operator(()ident(i) operator(>=) integer(0)operator(\)) keyword(and) operator(()ident(i) operator(<=) ident(High)operator(()ident(Cardinal)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(StrOfBool)operator(()ident(flag)operator(:) ident(Boolean)operator(;) keyword(const) ident(TrueStr)operator(:) keyword(string) operator(=) string<delimiter(')content(True)delimiter(')>operator(;)
  keyword(const) ident(FalseStr)operator(:) keyword(string) operator(=) string<delimiter(')content(False)delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  keyword(if) ident(Flag) keyword(then)
    ident(Result) operator(:=) ident(TrueStr)
  keyword(else)
    ident(Result) operator(:=) ident(FalseStr)operator(;)
keyword(end)operator(;)

keyword(function) ident(StrOfInt)operator(()ident(i)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
comment({  if i = 0 then begin
    Result := '0';
  Exit end;

  while i > 0 do begin
    Result := Char(Byte('0'\) + (i mod 10\)\) + Result;
    i := i div 10;
  end;})
  ident(Result) operator(:=) ident(IntToStr)operator(()ident(i)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(CardOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)
keyword(var)
  ident(Res)operator(:) ident(Int64)operator(;)
keyword(begin)
  ident(Res) operator(:=) ident(StrToInt64Def)operator(()ident(S)operator(,) operator(-)integer(1)operator(\))operator(;)
  keyword(if) ident(Res) operator(>) ident(High)operator(()ident(Cardinal)operator(\)) keyword(then)
    ident(Res) operator(:=) ident(High)operator(()ident(Cardinal)operator(\))
  keyword(else) keyword(if) ident(Res) operator(<) integer(0) keyword(then)
    ident(Res) operator(:=) integer(0)operator(;)
  ident(Result) operator(:=) ident(Cardinal)operator(()ident(Res)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(HexOrd)operator(()ident(Hex)operator(:) ident(Char)operator(\))operator(:) ident(THex)operator(;)
keyword(begin)
  keyword(case) ident(Hex) keyword(of)
    char<delimiter(')content(0)delimiter(')>operator(..)char<delimiter(')content(9)delimiter(')>operator(:)
      ident(Result) operator(:=) ident(Byte)operator(()ident(Hex)operator(\)) operator(-) integer(48)operator(;)
    char<delimiter(')content(A)delimiter(')>operator(..)char<delimiter(')content(F)delimiter(')>operator(:)
      ident(Result) operator(:=) ident(Byte)operator(()ident(Hex)operator(\)) operator(-) integer(55)operator(;)
    char<delimiter(')content(a)delimiter(')>operator(..)char<delimiter(')content(f)delimiter(')>operator(:)
      ident(Result) operator(:=) ident(Byte)operator(()ident(Hex)operator(\)) operator(-) integer(87)operator(;)
    keyword(else)
      ident(Result) operator(:=) integer(0)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(ByteOfHex)operator(()ident(Hex)operator(:) ident(THexByteStr)operator(\))operator(:) ident(Byte)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(HexOrd)operator(()ident(Hex)operator([)integer(1)operator(])operator(\)) keyword(shl) integer(4)operator(\)) operator(+) ident(HexOrd)operator(()ident(Hex)operator([)integer(2)operator(])operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(DecOfHex)operator(()keyword(const) ident(Hex)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(IntToStr)operator(()ident(CardOfHex)operator(()ident(Hex)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(HexOfByte)operator(()ident(b)operator(:) ident(Byte)operator(\))operator(:) ident(THexByteStr)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(HexChar)operator([)operator(()ident(b) keyword(and) hex($F0)operator(\)) keyword(shr) integer(4)operator(])
          operator(+) ident(HexChar)operator([) ident(b) keyword(and) hex($0F)       operator(])operator(;)
keyword(end)operator(;)

comment({function HexOfCard2(c: Cardinal\): string;
var
  Data: array[0..(1 shl 4\) - 1] of Char;
  i: Integer;
begin
  for i := 0 to (1 shl 4\) - 1 do
    if i < 10 then
      Data[i] := Char(Ord('0'\) + i\)
    else
      Data[i] := Char(Ord('A'\) + i - 10\);

  Result := Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (7 shl 2\)\)\) shr (7 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (6 shl 2\)\)\) shr (6 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (5 shl 2\)\)\) shr (5 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (4 shl 2\)\)\) shr (4 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (3 shl 2\)\)\) shr (3 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (2 shl 2\)\)\) shr (2 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (1 shl 2\)\)\) shr (1 shl 2\)]
          + Data[(c and (((1 shl (1 shl 2\)\) - 1\) shl (0 shl 2\)\)\) shr (0 shl 2\)];
end; })

keyword(function) ident(HexOfCard)operator(()ident(i)operator(:) ident(Cardinal)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(a)operator(:) ident(Cardinal)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(i) operator(>) integer(0) keyword(do) keyword(begin)
    ident(a) operator(:=) ident(i) keyword(and) hex($F)operator(;)
    ident(Result) operator(:=) ident(HexChar)operator([)ident(a)operator(]) operator(+) ident(Result)operator(;)
    ident(i) operator(:=) ident(i) keyword(shr) integer(4)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(HexOfCard)operator(()ident(i)operator(:) ident(Cardinal)operator(;) ident(Digits)operator(:) ident(Integer)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(a)operator(:) ident(Cardinal)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(i) operator(>) integer(0) keyword(do) keyword(begin)
    ident(a) operator(:=) ident(i) keyword(and) hex($F)operator(;)
    ident(Result) operator(:=) ident(HexChar)operator([)ident(a)operator(]) operator(+) ident(Result)operator(;)
    ident(i) operator(:=) ident(i) keyword(shr) integer(4)operator(;)
  keyword(end)operator(;)
  ident(Result) operator(:=) ident(MulStr)operator(()char<delimiter(')content(0)delimiter(')>operator(,) ident(Digits) operator(-) ident(Length)operator(()ident(Result)operator(\))operator(\)) operator(+) ident(Result)operator(;)
keyword(end)operator(;)

keyword(function) ident(PascalHexArray)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Name)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(,) ident(len)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')content(const)delimiter(')> operator(+) ident(EOL) operator(+)
    string<delimiter(')content(  )delimiter(')> operator(+) ident(Name) operator(+) string<delimiter(')content(: array[0..)delimiter(')> operator(+) ident(IntToStr)operator(()ident(High)operator(()ident(a)operator(\))operator(\)) operator(+) string<delimiter(')content(] of Byte = ()delimiter(')>operator(;)

  ident(len) operator(:=) ident(Length)operator(()ident(a)operator(\))operator(;)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(len)operator(-)integer(1) keyword(do) keyword(begin)
    keyword(if) operator(()ident(i) keyword(mod) integer(19)operator(\)) operator(=) integer(0) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(EOL) operator(+) string<delimiter(')content(  )delimiter(')> operator(+) string<delimiter(')content(  )delimiter(')>operator(;)
    ident(Result) operator(:=) ident(Result) operator(+) char<delimiter(')content($)delimiter(')> operator(+) ident(HexOfByte)operator(()ident(a)operator([)ident(i)operator(])operator(\))operator(;)
    keyword(if) ident(i) operator(<) ident(len)operator(-)integer(1) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) char<delimiter(')content(,)delimiter(')>operator(;)
  keyword(end)operator(;)
  ident(Result) operator(:=) ident(Result) operator(+) ident(EOL) operator(+) string<delimiter(')content(  \);)delimiter(')>operator(;)
keyword(end)operator(;)

keyword(function) ident(HexOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Blocks)operator(:) ident(Integer) operator(=) integer(1)operator(;)
  keyword(const) ident(Splitter)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)

  keyword(if) ident(Blocks) operator(>) integer(0) keyword(then)
    keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(a)operator(\)) keyword(do) keyword(begin)
      ident(Result) operator(:=) ident(Result) operator(+) ident(HexOfByte)operator(()ident(a)operator([)ident(i)operator(])operator(\))operator(;)
      keyword(if) ident(i) operator(<) ident(High)operator(()ident(a)operator(\)) keyword(then)
        keyword(if) operator(()operator(()ident(i)operator(+)integer(1)operator(\)) keyword(mod) ident(Blocks)operator(\)) operator(=) integer(0) keyword(then)
          ident(Result) operator(:=) ident(Result) operator(+) ident(Splitter)operator(;)
    keyword(end)
  keyword(else)
    keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(a)operator(\)) keyword(do)
      ident(Result) operator(:=) ident(Result) operator(+) ident(HexOfByte)operator(()ident(a)operator([)ident(i)operator(])operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(BinOfByteA)operator(()ident(a)operator(:) ident(TByteA)operator(;) ident(Blocks)operator(:) ident(Integer) operator(=) integer(4)operator(;)
  keyword(const) ident(Splitter)operator(:) keyword(string) operator(=) char<delimiter(')content( )delimiter(')>operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(i)operator(,) ident(max)operator(:) ident(Integer)operator(;)
  ident(Bit)operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)

  keyword(if) ident(Blocks) operator(>) integer(0) keyword(then) keyword(begin)
    ident(max) operator(:=) integer(8) operator(*) operator(()ident(High)operator(()ident(a)operator(\))operator(\)) operator(+) integer(7)operator(;)
    keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(max) keyword(do) keyword(begin)
      ident(Bit) operator(:=) integer(7)operator(-)operator(()ident(i) keyword(mod) integer(8)operator(\)) keyword(in) ident(TBitSet)operator(()ident(a)operator([)ident(i) keyword(div) integer(8)operator(])operator(\))operator(;)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Char)operator(()ident(Byte)operator(()char<delimiter(')content(0)delimiter(')>operator(\)) operator(+) ident(Byte)operator(()ident(Bit)operator(\))operator(\))operator(;)
      keyword(if) ident(i) operator(<) ident(max) keyword(then)
        keyword(if) operator(()operator(()ident(i)operator(+)integer(1)operator(\)) keyword(mod) ident(Blocks)operator(\)) operator(=) integer(0) keyword(then)
          ident(Result) operator(:=) ident(Result) operator(+) ident(Splitter)operator(;)
    keyword(end)operator(;)
  keyword(end) keyword(else)
    keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(a)operator(\)) keyword(do)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Char)operator(()ident(Byte)operator(()char<delimiter(')content(0)delimiter(')>operator(\)) operator(+) ident(a)operator([)ident(i)operator(]) keyword(shr) operator(()ident(i) keyword(and) integer(8)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(CardOfHex)operator(()ident(Hex)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  ident(Hex) operator(:=) ident(Copy)operator(()ident(ExtractChars)operator(()ident(Hex)operator(,) ident(HexadecimalChars)operator(\))operator(,) integer(1)operator(,) integer(8)operator(\))operator(;)

  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(Length)operator(()ident(Hex)operator(\)) keyword(do)
    keyword(if) ident(Hex)operator([)ident(i)operator(]) operator(<>) char<delimiter(')content(0)delimiter(')> keyword(then)
      ident(Inc)operator(()ident(Result)operator(,) ident(HexOrd)operator(()ident(Hex)operator([)ident(i)operator(])operator(\)) keyword(shl) operator(()operator(()ident(Length)operator(()ident(Hex)operator(\)) operator(-) ident(i)operator(\)) keyword(shl) integer(2)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(IntOfBin)operator(()ident(Bin)operator(:) keyword(string)operator(\))operator(:) ident(Cardinal)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  ident(Bin) operator(:=) ident(Copy)operator(()ident(ExtractChars)operator(()ident(Bin)operator(,) ident(BinaryChars)operator(\))operator(,) integer(1)operator(,) integer(32)operator(\))operator(;)

  keyword(for) ident(i) operator(:=) ident(Length)operator(()ident(Bin)operator(\)) keyword(downto) integer(1) keyword(do)
    keyword(if) ident(Bin)operator([)ident(i)operator(]) operator(=) char<delimiter(')content(1)delimiter(')> keyword(then)
      ident(Inc)operator(()ident(Result)operator(,) integer(1) keyword(shl) operator(()ident(Length)operator(()ident(Bin)operator(\)) operator(-) ident(i)operator(\))operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(BinOfInt)operator(()ident(n)operator(:) ident(Cardinal)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(a)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(n) operator(=) integer(0) keyword(then) keyword(begin)
    ident(Result) operator(:=) char<delimiter(')content(0)delimiter(')>operator(;)
  ident(exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(n) operator(>) integer(0) keyword(do) keyword(begin)
    ident(a) operator(:=) ident(n) keyword(and) integer(1)operator(;)
    ident(Result) operator(:=) ident(Char)operator(()ident(a) operator(+) ident(Byte)operator(()char<delimiter(')content(0)delimiter(')>operator(\))operator(\)) operator(+) ident(Result)operator(;)
    ident(n) operator(:=) ident(n) keyword(shr) integer(1)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(BinOfIntFill)operator(()ident(n)operator(:) ident(Cardinal)operator(;) ident(MinCount)operator(:) ident(Integer) operator(=) integer(8)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(a)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(n) operator(=) integer(0) keyword(then) keyword(begin)
    ident(Result) operator(:=) ident(MulStr)operator(()char<delimiter(')content(0)delimiter(')>operator(,) ident(MinCount)operator(\))operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(n) operator(>) integer(0) keyword(do) keyword(begin)
    ident(a) operator(:=) ident(n) keyword(and) integer(1)operator(;)
    ident(Result) operator(:=) ident(Char)operator(()ident(a) operator(+) ident(Byte)operator(()char<delimiter(')content(0)delimiter(')>operator(\))operator(\)) operator(+) ident(Result)operator(;)
    ident(n) operator(:=) ident(n) keyword(shr) integer(1)operator(;)
  keyword(end)operator(;)
  ident(Result) operator(:=) ident(MulStr)operator(()char<delimiter(')content(0)delimiter(')>operator(,) ident(MinCount) operator(-) ident(Length)operator(()ident(Result)operator(\))operator(\)) operator(+) ident(Result)operator(;)
keyword(end)operator(;)

keyword(function) ident(BaseNOfInt)operator(()ident(I)operator(:) ident(Cardinal)operator(;) ident(B)operator(:) ident(TBaseN)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(a)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) operator(()ident(B) operator(<) integer(2)operator(\)) keyword(or) operator(()ident(i) operator(=) integer(0)operator(\)) keyword(then) keyword(begin)
    ident(Result) operator(:=) char<delimiter(')content(0)delimiter(')>operator(;)
  ident(Exit)operator(;) keyword(end)operator(;)

  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  keyword(while) ident(i) operator(>) integer(0) keyword(do) keyword(begin)
    ident(a) operator(:=) ident(i) keyword(mod) ident(B)operator(;)
    ident(Result) operator(:=) ident(BaseNChar)operator([)ident(a)operator(]) operator(+) ident(Result)operator(;)
    ident(i) operator(:=) ident(i) keyword(div) ident(B)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(IntOfBaseN)operator(()ident(V)operator(:) keyword(string)operator(;) ident(B)operator(:) ident(TBaseN)operator(\))operator(:) ident(Cardinal)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
  ident(F)operator(:) ident(Cardinal)operator(;)
  ident(c)operator(:) ident(Byte)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  ident(V) operator(:=) ident(TrimAll)operator(()ident(V)operator(\))operator(;)
  ident(F) operator(:=) integer(1)operator(;)
  keyword(for) ident(i) operator(:=) ident(Length)operator(()ident(V)operator(\)) keyword(downto) integer(1) keyword(do) keyword(begin)
    ident(c) operator(:=) ident(Byte)operator(()ident(UpCase)operator(()ident(V)operator([)ident(i)operator(])operator(\))operator(\))operator(;)
    keyword(case) ident(Char)operator(()ident(c)operator(\)) keyword(of)
      char<delimiter(')content(0)delimiter(')>operator(..)char<delimiter(')content(9)delimiter(')>operator(:) ident(c) operator(:=) ident(c) operator(-) integer(48)operator(;)
      char<delimiter(')content(A)delimiter(')>operator(..)char<delimiter(')content(Z)delimiter(')>operator(:) ident(c) operator(:=) ident(c) operator(-) integer(55)operator(;)
    keyword(end)operator(;)
    keyword(if) ident(c) operator(<) ident(B) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(Byte)operator(()ident(c)operator(\)) operator(*) ident(F)operator(;)
    ident(F) operator(:=) ident(F) operator(*) ident(B)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(KeepIn)operator(()ident(i)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Variant)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(i)operator(;)
  keyword(if) ident(Result) operator(>) ident(Top) keyword(then)
    ident(Result) operator(:=) ident(Top)
  keyword(else) keyword(if) ident(Result) operator(<) ident(Bottom) keyword(then)
    ident(Result) operator(:=) ident(Bottom)operator(;)
keyword(end)operator(;)

keyword(function) ident(InRange)operator(()ident(Value)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Value) operator(>=) ident(Bottom)operator(\)) keyword(and) operator(()ident(Value) operator(<=) ident(Top)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(InStrictRange)operator(()ident(Value)operator(,) ident(Bottom)operator(,) ident(Top)operator(:) ident(Variant)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Value) operator(>) ident(Bottom)operator(\)) keyword(and) operator(()ident(Value) operator(<) ident(Top)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Min)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(A) operator(<) ident(B) keyword(then)
    ident(Result) operator(:=) ident(A)
  keyword(else)
    ident(Result) operator(:=) ident(B)operator(;)
keyword(end)operator(;)

keyword(function) ident(Min)operator(()keyword(const) ident(A)operator(:) ident(TIntA)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  keyword(if) ident(Length)operator(()ident(A)operator(\)) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  ident(Result) operator(:=) ident(A)operator([)integer(0)operator(])operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do)
    keyword(if) ident(A)operator([)ident(i)operator(]) operator(<) ident(Result) keyword(then)
      ident(Result) operator(:=) ident(A)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(Max)operator(()keyword(const) ident(A)operator(,) ident(B)operator(:) ident(Integer)operator(\))operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(A) operator(>) ident(B) keyword(then)
    ident(Result) operator(:=) ident(A)
  keyword(else)
    ident(Result) operator(:=) ident(B)operator(;)
keyword(end)operator(;)

keyword(function) ident(Max)operator(()keyword(const) ident(A)operator(:) ident(TIntA)operator(\))operator(:) ident(Integer)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  keyword(if) ident(Length)operator(()ident(A)operator(\)) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  ident(Result) operator(:=) ident(A)operator([)integer(0)operator(])operator(;)
  keyword(for) ident(i) operator(:=) integer(1) keyword(to) ident(High)operator(()ident(A)operator(\)) keyword(do)
    keyword(if) ident(A)operator([)ident(i)operator(]) operator(>) ident(Result) keyword(then)
      ident(Result) operator(:=) ident(A)operator([)ident(i)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(RangesOfStr)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) ident(TRanges)operator(;)
keyword(var)
  ident(SL)operator(:) ident(TStringList)operator(;)
  ident(r)operator(,) ident(b)operator(,) ident(t)operator(:) keyword(string)operator(;)
  ident(i)operator(,) ident(p)operator(:) ident(Integer)operator(;)

  keyword(function) ident(TryStrToCard)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(;) keyword(out) ident(Value)operator(:) ident(Cardinal)operator(\))operator(:) ident(Boolean)operator(;)
  keyword(var)
    ident(E)operator(:) ident(Integer)operator(;)
  keyword(begin)
    ident(Val)operator(()ident(S)operator(,) ident(Value)operator(,) ident(E)operator(\))operator(;)
    ident(Result) operator(:=) ident(E) operator(=) integer(0)operator(;)
  keyword(end)operator(;)

keyword(begin)
  ident(Result) operator(:=) keyword(nil)operator(;)
  ident(SL) operator(:=) ident(TStringList)operator(.)ident(Create)operator(;)
  keyword(try)
    ident(Split)operator(()ident(S)operator(,) ident(RangesSeparator)operator(,) ident(SL)operator(\))operator(;)
    ident(SetLength)operator(()ident(Result)operator(,) ident(SL)operator(.)ident(Count)operator(\))operator(;)
    keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(SL)operator(.)ident(Count)operator(-)integer(1) keyword(do) keyword(begin)
      ident(r) operator(:=) ident(SL)operator([)ident(i)operator(])operator(;)
      keyword(with) ident(Result)operator([)ident(i)operator(]) keyword(do) keyword(begin)
        ident(p) operator(:=) ident(CharPos)operator(()ident(RangeInnerSeparator)operator(,) ident(r)operator(\))operator(;)
        ident(Simple) operator(:=) ident(p) operator(=) integer(0)operator(;) comment(// no '-' found)
        keyword(if) ident(Simple) keyword(then) keyword(begin)
          keyword(if) ident(r) operator(=) ident(RangeInfinite) keyword(then) keyword(begin) comment(// * --> *-*)
            ident(Simple) operator(:=) ident(False)operator(;)
            ident(Bottom) operator(:=) ident(Low)operator(()ident(Bottom)operator(\))operator(;)
            ident(Top) operator(:=) ident(High)operator(()ident(Top)operator(\))operator(;)
          keyword(end) keyword(else) keyword(if) keyword(not) ident(TryStrToCard)operator(()ident(r)operator(,) ident(Value)operator(\)) keyword(then)
            ident(Break)operator(;)

        keyword(end) keyword(else) keyword(begin)
          ident(TileStr)operator(()ident(r)operator(,) ident(p)operator(,) ident(p)operator(,) ident(b)operator(,) ident(t)operator(\))operator(;)

          keyword(if) ident(b) operator(=) ident(RangeInfinite) keyword(then)
            ident(Bottom) operator(:=) ident(Low)operator(()ident(Bottom)operator(\))
          keyword(else) keyword(if) keyword(not) ident(TryStrToCard)operator(()ident(b)operator(,) ident(Bottom)operator(\)) keyword(then)
            ident(Break)operator(;)

          keyword(if) ident(t) operator(=) ident(RangeInfinite) keyword(then)
            ident(Top) operator(:=) ident(High)operator(()ident(Top)operator(\))
          keyword(else) keyword(if) keyword(not) ident(TryStrToCard)operator(()ident(t)operator(,) ident(Top)operator(\)) keyword(then)
            ident(Break)operator(;)
          keyword(if) ident(Bottom) operator(>) ident(Top) keyword(then) keyword(begin)
            ident(p) operator(:=) ident(Bottom)operator(;) ident(Bottom) operator(:=) ident(Top)operator(;) ident(Top) operator(:=) ident(p)operator(;)
          keyword(end)operator(;)
        keyword(end)operator(;)
      keyword(end)operator(;)
    keyword(end)operator(;)

    keyword(if) ident(i) operator(<>) ident(SL)operator(.)ident(Count) keyword(then)
      ident(Result) operator(:=) keyword(nil)operator(;)

  keyword(finally)
    ident(SL)operator(.)ident(Free)operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(function) ident(InRanges)operator(()ident(Ranges)operator(:) ident(TRanges)operator(;) ident(TestValue)operator(:) ident(Cardinal)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(True)operator(;)

  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(High)operator(()ident(Ranges)operator(\)) keyword(do)
    keyword(with) ident(Ranges)operator([)ident(i)operator(]) keyword(do)
      keyword(if) ident(Simple) keyword(then) keyword(begin)
        keyword(if) ident(TestValue) operator(=) ident(Value) keyword(then)
          ident(Exit)operator(;)
      keyword(end) keyword(else) keyword(begin)
        keyword(if) ident(InRange)operator(()ident(TestValue)operator(,) ident(Bottom)operator(,) ident(Top)operator(\)) keyword(then)
          ident(Exit)operator(;)
      keyword(end)operator(;)

  ident(Result) operator(:=) ident(False)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(WriteSL)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) keyword(const) ident(Prefix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(;)
  keyword(const) ident(Suffix)operator(:) keyword(string) operator(=) string<delimiter(')delimiter(')>operator(\))operator(;)
keyword(var)
  ident(i)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(for) ident(i) operator(:=) integer(0) keyword(to) ident(Strings)operator(.)ident(Count)operator(-)integer(1) keyword(do)
    ident(WriteLn)operator(()ident(Prefix) operator(+) ident(Strings)operator([)ident(i)operator(]) operator(+) ident(Suffix)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Success)operator(()ident(Res)operator(:) ident(Integer)operator(;) ident(ResultOnSuccess)operator(:) ident(Integer) operator(=) ident(ERROR_SUCCESS)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Res) operator(=) ident(ResultOnSuccess)operator(\))operator(;)
  ident(LastSuccessRes) operator(:=) ident(Res)operator(;)
keyword(end)operator(;)

keyword(function) ident(Failure)operator(()ident(Res)operator(:) ident(Integer)operator(;) ident(ResultOnSuccess)operator(:) ident(Integer) operator(=) ident(ERROR_SUCCESS)operator(\))operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) keyword(not) ident(Success)operator(()ident(Res)operator(,) ident(ResultOnSuccess)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(ExpandString)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Len)operator(:) ident(Integer)operator(;)
  ident(P)operator(,) ident(Res)operator(:) ident(PChar)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(P) operator(:=) ident(PChar)operator(()ident(S)operator(\))operator(;)
  ident(Len) operator(:=) ident(ExpandEnvironmentStrings)operator(()ident(P)operator(,) keyword(nil)operator(,) integer(0)operator(\))operator(;)
  keyword(if) ident(Len) operator(=) integer(0) keyword(then)
    ident(Exit)operator(;)

  ident(GetMem)operator(()ident(Res)operator(,) ident(Len)operator(\))operator(;)
  ident(ExpandEnvironmentStrings)operator(()ident(P)operator(,) ident(Res)operator(,) ident(Len)operator(\))operator(;)

  ident(Result) operator(:=) ident(Res)operator(;)
  ident(FreeMem)operator(()ident(Res)operator(,) ident(Len)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(FindAll)operator(()ident(Strings)operator(:) ident(TStrings)operator(;) keyword(const) ident(Mask)operator(:) keyword(string)operator(;)
  ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;) ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(;)
  ident(FileReturn)operator(:) ident(TFileNameFunc) operator(=) keyword(nil)operator(\))operator(:) ident(Boolean)operator(;)
keyword(var)
  ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(;)

  keyword(procedure) ident(ScanDir)operator(()keyword(const) ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(\))operator(;)
  keyword(var)
    ident(PSR)operator(:) ident(TSearchRec)operator(;)
    ident(Res)operator(:) ident(Integer)operator(;)

    keyword(procedure) ident(Add)operator(()keyword(const) ident(S)operator(:) keyword(string)operator(\))operator(;)
    keyword(begin)
      keyword(if) ident(S) operator(<>) string<delimiter(')delimiter(')> keyword(then)
        ident(Strings)operator(.)ident(Add)operator(()ident(S)operator(\))operator(;)
    keyword(end)operator(;)

  keyword(begin)
    ident(Res) operator(:=) ident(FindFirst)operator(()ident(Path) operator(+) ident(FileName)operator(,) ident(Attributes)operator(,) ident(PSR)operator(\))operator(;)
    keyword(while) ident(Success)operator(()ident(Res)operator(,) integer(0)operator(\)) keyword(do) keyword(begin)
      keyword(if) ident(Assigned)operator(()ident(FileReturn)operator(\)) keyword(then)
        ident(Add)operator(()ident(FileReturn)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(\))operator(\))
      keyword(else)
        ident(Add)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(\))operator(;)
      ident(Res) operator(:=) ident(FindNext)operator(()ident(PSR)operator(\))operator(;)
    keyword(end)operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
    keyword(if) keyword(not) ident(ScanSubDirs) keyword(then)
      ident(Exit)operator(;)

    ident(Res) operator(:=) ident(FindFirst)operator(()ident(Path) operator(+) char<delimiter(')content(*)delimiter(')>operator(,) ident(faDirectory)operator(,) ident(PSR)operator(\))operator(;)
    keyword(while) ident(Success)operator(()ident(Res)operator(,) integer(0)operator(\)) keyword(do) keyword(begin)
      keyword(if) operator(()ident(PSR)operator(.)ident(Attr) keyword(and) ident(faDirectory) operator(>) integer(0)operator(\))
       keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) char<delimiter(')content(.)delimiter(')>operator(\)) keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) string<delimiter(')content(..)delimiter(')>operator(\)) keyword(then)
        ident(ScanDir)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name) operator(+) char<delimiter(')content(\\)delimiter(')>operator(,) ident(FileName)operator(\))operator(;)
      ident(Res) operator(:=) ident(FindNext)operator(()ident(PSR)operator(\))operator(;)
    keyword(end)operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
  keyword(end)operator(;)

keyword(begin)
  ident(Strings)operator(.)ident(Clear)operator(;)
  ident(Path) operator(:=) ident(ExtractPath)operator(()ident(Mask)operator(\))operator(;)
  ident(FileName) operator(:=) ident(ExtractFileName)operator(()ident(Mask)operator(\))operator(;)
  ident(ScanDir)operator(()ident(Path)operator(,) ident(FileName)operator(\))operator(;)
  ident(Result) operator(:=) ident(Strings)operator(.)ident(Count) operator(>) integer(0)operator(;)
keyword(end)operator(;)

keyword(function) ident(FindAllFirst)operator(()keyword(const) ident(Mask)operator(:) keyword(string)operator(;) ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(;)

  keyword(function) ident(ScanDir)operator(()keyword(const) ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(\))operator(:) ident(Boolean)operator(;)
  keyword(var)
    ident(PSR)operator(:) ident(TSearchRec)operator(;)
    ident(Res)operator(:) ident(Integer)operator(;)
  keyword(begin)
    ident(Result) operator(:=) ident(False)operator(;)
    keyword(if) ident(Success)operator(()ident(FindFirst)operator(()ident(Path) operator(+) ident(FileName)operator(,) ident(Attributes)operator(,) ident(PSR)operator(\))operator(,) integer(0)operator(\)) keyword(then) keyword(begin)
      ident(FindAllFirst) operator(:=) ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(;)
      ident(Result) operator(:=) ident(True)operator(;)
      ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
    ident(Exit)operator(;) keyword(end)operator(;)
    keyword(if) keyword(not) ident(ScanSubDirs) keyword(then)
      ident(Exit)operator(;)

    ident(Res) operator(:=) ident(FindFirst)operator(()ident(Path) operator(+) char<delimiter(')content(*)delimiter(')>operator(,) ident(faDirectory)operator(,) ident(PSR)operator(\))operator(;)
    keyword(while) keyword(not) ident(Result) keyword(and) ident(Success)operator(()ident(Res)operator(,) integer(0)operator(\)) keyword(do) keyword(begin)
      keyword(if) operator(()ident(PSR)operator(.)ident(Attr) keyword(and) ident(faDirectory) operator(>) integer(0)operator(\))
       keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) char<delimiter(')content(.)delimiter(')>operator(\)) keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) string<delimiter(')content(..)delimiter(')>operator(\)) keyword(then)
        ident(Result) operator(:=) ident(ScanDir)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name) operator(+) char<delimiter(')content(\\)delimiter(')>operator(,) ident(FileName)operator(\))operator(;)
      ident(Res) operator(:=) ident(FindNext)operator(()ident(PSR)operator(\))operator(;)
    keyword(end)operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
  keyword(end)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(Path) operator(:=) ident(ExtractPath)operator(()ident(Mask)operator(\))operator(;)
  ident(FileName) operator(:=) ident(ExtractFileName)operator(()ident(Mask)operator(\))operator(;)
  ident(ScanDir)operator(()ident(Path)operator(,) ident(FileName)operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(DeleteFiles)operator(()keyword(const) ident(Mask)operator(:) keyword(string)operator(;) ident(ScanSubDirs)operator(:) ident(Boolean) operator(=) ident(True)operator(;)
  ident(Attributes)operator(:) ident(Integer) operator(=) ident(faFindEveryFile)operator(\))operator(;)
keyword(var)
  ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(;)

  keyword(procedure) ident(ScanDir)operator(()keyword(const) ident(Path)operator(,) ident(FileName)operator(:) keyword(string)operator(\))operator(;)
  keyword(var)
    ident(PSR)operator(:) ident(TSearchRec)operator(;)
    ident(Res)operator(:) ident(Integer)operator(;)

    keyword(procedure) ident(TryDeleteFile)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(;)
    keyword(begin)
      keyword(try)
        ident(DeleteFile)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(\))operator(;)
      keyword(except)
      keyword(end)operator(;)
    keyword(end)operator(;)

  keyword(begin)
    ident(Res) operator(:=) ident(FindFirst)operator(()ident(Path) operator(+) ident(FileName)operator(,) ident(Attributes)operator(,) ident(PSR)operator(\))operator(;)
    keyword(while) ident(Success)operator(()ident(Res)operator(,) integer(0)operator(\)) keyword(do) keyword(begin)
      ident(TryDeleteFile)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(\))operator(;)
      ident(Res) operator(:=) ident(FindNext)operator(()ident(PSR)operator(\))operator(;)
    keyword(end)operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
    keyword(if) keyword(not) ident(ScanSubDirs) keyword(then)
      ident(Exit)operator(;)

    ident(Res) operator(:=) ident(FindFirst)operator(()ident(Path) operator(+) char<delimiter(')content(*)delimiter(')>operator(,) ident(faDirectory)operator(,) ident(PSR)operator(\))operator(;)
    keyword(while) ident(Success)operator(()ident(Res)operator(,) integer(0)operator(\)) keyword(do) keyword(begin)
      keyword(if) operator(()ident(PSR)operator(.)ident(Attr) keyword(and) ident(faDirectory) operator(>) integer(0)operator(\))
       keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) char<delimiter(')content(.)delimiter(')>operator(\)) keyword(and) operator(()ident(PSR)operator(.)ident(Name) operator(<>) string<delimiter(')content(..)delimiter(')>operator(\)) keyword(then) keyword(begin)
        ident(ScanDir)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name) operator(+) char<delimiter(')content(\\)delimiter(')>operator(,) ident(FileName)operator(\))operator(;)
        ident(TryDeleteFile)operator(()ident(Path) operator(+) ident(PSR)operator(.)ident(Name)operator(\))operator(;)
      keyword(end)operator(;)
      ident(Res) operator(:=) ident(FindNext)operator(()ident(PSR)operator(\))operator(;)
    keyword(end)operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
  keyword(end)operator(;)
keyword(begin)
  ident(Path) operator(:=) ident(ExtractPath)operator(()ident(Mask)operator(\))operator(;)
  ident(FileName) operator(:=) ident(ExtractFileName)operator(()ident(Mask)operator(\))operator(;)
  ident(ScanDir)operator(()ident(Path)operator(,) ident(FileName)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(GetFileNew)operator(()ident(FileName)operator(:) keyword(string)operator(;) ident(NoFloppyDrives)operator(:) ident(Boolean) operator(=) ident(True)operator(\))operator(:) keyword(string)operator(;)
keyword(var)
  ident(Drive)operator(:) keyword(string)operator(;)
  ident(pf)operator(,) ident(pd)operator(,) ident(Len)operator(:) ident(Integer)operator(;)
  ident(PSR)operator(:) ident(TSearchRec)operator(;)
keyword(begin)
  ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
  ident(FileName) operator(:=) ident(Trim)operator(()ident(FileName)operator(\))operator(;)
  keyword(if) ident(Length)operator(()ident(FileName)operator(\)) operator(<) integer(2) keyword(then)
    ident(Exit)operator(;)

  ident(Drive) operator(:=) ident(ExtractDrive)operator(()ident(FileName)operator(\))operator(;)
  keyword(if) keyword(not) ident(DirectoryExists)operator(()ident(Drive)operator(\)) keyword(then)
    ident(Exit)operator(;)

  keyword(if) ident(NoFloppyDrives) keyword(and) operator(()ident(Drive)operator([)integer(1)operator(]) keyword(in) operator([)char<delimiter(')content(A)delimiter(')>operator(,) char<delimiter(')content(B)delimiter(')>operator(])operator(\)) keyword(then)
    ident(Exit)operator(;)

  ident(Len) operator(:=) ident(Length)operator(()ident(FileName)operator(\))operator(;)
  ident(Result) operator(:=) ident(Drive)operator(;)
  ident(pf) operator(:=) ident(Length)operator(()ident(Drive)operator(\)) operator(+) integer(1)operator(;)
  keyword(while) ident(pf) operator(<=) ident(Len) keyword(do) keyword(begin)
    keyword(if) ident(FileName)operator([)ident(pf)operator(]) operator(=) char<delimiter(')content(\\)delimiter(')> keyword(then) keyword(begin)
      ident(Result) operator(:=) ident(Result) operator(+) char<delimiter(')content(\\)delimiter(')>operator(;)
      ident(Inc)operator(()ident(pf)operator(\))operator(;)
    ident(Continue)operator(;) keyword(end)operator(;)

    ident(pd) operator(:=) ident(CharPos)operator(()char<delimiter(')content(\\)delimiter(')>operator(,) ident(FileName)operator(,) ident(pf)operator(\))operator(;)
    keyword(if) ident(pd) operator(=) integer(0) keyword(then) keyword(begin)
      keyword(if) integer(0)operator(=)ident(FindFirst)operator(()ident(Result) operator(+) ident(Copy)operator(()ident(FileName)operator(,) ident(pf)operator(,) ident(MaxInt)operator(\))operator(,) ident(faFindEveryFile)operator(,) ident(PSR)operator(\)) keyword(then) keyword(begin)
        ident(Result) operator(:=) ident(Result) operator(+) ident(PSR)operator(.)ident(Name)operator(;)
      ident(Break)operator(;) keyword(end) keyword(else) keyword(begin)
        ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
        keyword(if) integer(0)operator(=)ident(FindFirst)operator(()ident(Result) operator(+) ident(Copy)operator(()ident(FileName)operator(,) ident(pf)operator(,) ident(MaxInt)operator(\))operator(,) ident(faDirectory)operator(,) ident(PSR)operator(\)) keyword(then)
          ident(Result) operator(:=) ident(Result) operator(+) ident(PSR)operator(.)ident(Name) operator(+) char<delimiter(')content(\\)delimiter(')>
        keyword(else)
          ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
        ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
        keyword(if) ident(Result) operator(=) string<delimiter(')delimiter(')> keyword(then)
          ident(Break)operator(;)
      keyword(end)operator(;)
    keyword(end)operator(;)

    keyword(if) integer(0)operator(=)ident(FindFirst)operator(()ident(Result) operator(+) ident(Copy)operator(()ident(FileName)operator(,) ident(pf)operator(,) ident(pd) operator(-) ident(pf)operator(\))operator(,) ident(faDirectory)operator(,) ident(PSR)operator(\)) keyword(then)
      ident(Result) operator(:=) ident(Result) operator(+) ident(PSR)operator(.)ident(Name) operator(+) char<delimiter(')content(\\)delimiter(')>
    keyword(else)
      ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
    ident(FindClose)operator(()ident(PSR)operator(\))operator(;)
    keyword(if) ident(Result) operator(=) string<delimiter(')delimiter(')> keyword(then)
      ident(Break)operator(;)

    ident(pf) operator(:=) ident(pd) operator(+) integer(1)operator(;)
  keyword(end)operator(;)

  keyword(if) operator(()ident(Result) operator(<>) string<delimiter(')delimiter(')>operator(\)) keyword(and) keyword(not) ident(FileEx)operator(()ident(Result)operator(,) ident(True)operator(\)) keyword(then)
    ident(Result) operator(:=) string<delimiter(')delimiter(')>operator(;)
keyword(end)operator(;)

keyword(function) ident(DateTimeOfFileTime)operator(()keyword(const) ident(FileTime)operator(:) ident(TFileTime)operator(\))operator(:) ident(TDateTime)operator(;)
keyword(var)
  ident(LocalFileTime)operator(:) ident(TFileTime)operator(;)
  ident(Res)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)

  ident(FileTimeToLocalFileTime)operator(()ident(FileTime)operator(,) ident(LocalFileTime)operator(\))operator(;)
  keyword(if) keyword(not) ident(FileTimeToDosDateTime)operator(()ident(LocalFileTime)operator(,) ident(LongRec)operator(()ident(Res)operator(\))operator(.)ident(Hi)operator(,)
   ident(LongRec)operator(()ident(Res)operator(\))operator(.)ident(Lo)operator(\)) keyword(then)
    ident(Res) operator(:=) operator(-)integer(1)operator(;)

  keyword(if) operator(()ident(Res) operator(=) operator(-)integer(1)operator(\)) keyword(or) operator(()ident(Res) operator(=) integer(0)operator(\)) keyword(then)
    ident(Exit)operator(;)
  keyword(try)
    ident(Result) operator(:=) ident(FileDateToDateTime)operator(()ident(Res)operator(\))operator(;)
  keyword(except)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(FileNew)operator(()keyword(const) ident(FileName)operator(:) keyword(string)operator(\))operator(;)
keyword(var)
  ident(Handle)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(Handle) operator(:=) ident(FileCreate)operator(()ident(FileName)operator(\))operator(;)
  ident(FileClose)operator(()ident(Handle)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Win32PlatformStr)operator(:) keyword(string)operator(;)
keyword(const)
  ident(PlatformStrings)operator(:) keyword(array)operator([)ident(VER_PLATFORM_WIN32s)operator(..)ident(VER_PLATFORM_WIN32_NT)operator(]) keyword(of) keyword(string) operator(=)
    operator(()string<delimiter(')content(VER_PLATFORM_WIN32s)delimiter(')>operator(,) string<delimiter(')content(VER_PLATFORM_WIN32_WINDOWS)delimiter(')>operator(,) string<delimiter(')content(VER_PLATFORM_WIN32_NT)delimiter(')>operator(\))operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(PlatformStrings)operator([)ident(Win32Platform)operator(])operator(;)
keyword(end)operator(;)

keyword(function) ident(FullOSInfo)operator(:) keyword(string)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Format)operator(()
    string<delimiter(')content(Platform: %s)delimiter(')> operator(+) ident(EOL) operator(+)
    string<delimiter(')content(Version: %d.%d Build %d)delimiter(')> operator(+) ident(EOL) operator(+)
    string<delimiter(')content(CSD: %s)delimiter(')>operator(,)
    operator([)
      ident(Win32PlatformStr)operator(,)
      ident(Win32MajorVersion)operator(,) ident(Win32MinorVersion)operator(,) ident(Win32BuildNumber)operator(,)
      ident(Win32CSDVersion)
    operator(])
  operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(Win9x)operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Win32Platform) operator(=) ident(VER_PLATFORM_WIN32_WINDOWS)operator(;)
keyword(end)operator(;)

keyword(function) ident(WinNT)operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Win32Platform) operator(=) ident(VER_PLATFORM_WIN32_NT)operator(;)
keyword(end)operator(;)

keyword(function) ident(Win2000)operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) operator(()ident(Win32Platform) operator(=) ident(VER_PLATFORM_WIN32_NT)operator(\))
            keyword(and) operator(()ident(Win32MajorVersion) operator(=) integer(4)operator(\))operator(;)
keyword(end)operator(;)

keyword(function) ident(WinXP)operator(:) ident(Boolean)operator(;)
keyword(begin)
  ident(Result) operator(:=) ident(Win32MajorVersion) operator(>=) integer(5)operator(;)
keyword(end)operator(;)

keyword(initialization)
  ident(MyDir) operator(:=) ident(GetMyDir)operator(;)

keyword(end)operator(.)

keyword(unit) ident(FifoStream)operator(;)

keyword(interface)

keyword(uses) ident(Classes)operator(,) ident(windows)operator(,) ident(Dialogs)operator(;)

keyword(const)
  ident(DefaultChunksize) operator(=) integer(32768)operator(;) comment(// 32kb per chunk as default.)

keyword(type)
  ident(PMemChunk) operator(=) operator(^)ident(TMemChunk)operator(;)
  ident(TMemChunk) operator(=) keyword(record)
    ident(Filled)operator(:) ident(Longword)operator(;)
    directive(Read)operator(:) ident(Longword)operator(;)
    ident(Data)operator(:) ident(pointer)operator(;)
  keyword(end)operator(;)

  ident(TFifo) operator(=) keyword(class)
  directive(private)
    ident(FBuffers)operator(:) ident(TList)operator(;)
    ident(FChunksize)operator(:) ident(Longword)operator(;)
    ident(FCritSect)operator(:) ident(TRTLCriticalSection)operator(;)
    ident(FIsWinNT)operator(:) ident(boolean)operator(;)
    ident(FBytesInFifo)operator(:) ident(LongWord)operator(;)
  directive(protected)
    keyword(function) ident(GetBytesInFifo)operator(:) ident(LongWord)operator(;)
  directive(public)
    keyword(constructor) ident(Create)operator(;)
    keyword(destructor) ident(Destroy)operator(;) directive(override)operator(;)
    keyword(procedure) ident(Write)operator(()ident(Data)operator(:) ident(pointer)operator(;) ident(Size)operator(:) ident(LongWord)operator(\))operator(;)
    keyword(procedure) ident(Read)operator(()ident(Buff)operator(:) ident(pointer)operator(;) keyword(var) ident(ReqSize)operator(:) ident(LongWord)operator(\))operator(;)
    keyword(procedure) ident(PeekData)operator(()ident(Buff)operator(:) ident(pointer)operator(;) keyword(var) ident(ReqSize)operator(:) ident(LongWord)operator(\))operator(;)
  directive(published)
    keyword(property) ident(BytesInFifo)operator(:) ident(LongWord) directive(read) ident(FBytesInFifo)operator(;)
  keyword(end)operator(;)

keyword(implementation)

keyword(constructor) ident(TFifo)operator(.)ident(Create)operator(;)
keyword(begin)
  keyword(inherited)operator(;)
  ident(FBuffers) operator(:=) ident(TList)operator(.)ident(Create)operator(;)
  comment(// set default chunksize...)
  ident(FChunksize) operator(:=) ident(DefaultChunksize)operator(;)
  ident(InitializeCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
keyword(end)operator(;)

keyword(destructor) ident(TFifo)operator(.)ident(Destroy)operator(;)
keyword(var)
  ident(I)operator(:) ident(Integer)operator(;)
keyword(begin)
  ident(EnterCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  keyword(for) ident(I) operator(:=) integer(0) keyword(to) ident(FBuffers)operator(.)ident(count) operator(-) integer(1) keyword(do)
  keyword(begin)
    ident(FreeMem)operator(()ident(PMemChunk)operator(()ident(Fbuffers)operator([)ident(I)operator(])operator(\))operator(.)ident(Data)operator(\))operator(;)
    ident(Dispose)operator(()ident(PMemChunk)operator(()ident(Fbuffers)operator([)ident(I)operator(])operator(\))operator(\))operator(;)
  keyword(end)operator(;)
  ident(FBuffers)operator(.)ident(Clear)operator(;)
  ident(FBuffers)operator(.)ident(Free)operator(;)
  ident(LeaveCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)

  ident(DeleteCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  keyword(inherited)operator(;)
keyword(end)operator(;)

keyword(function) ident(TFifo)operator(.)ident(GetBytesInFifo)operator(:) ident(LongWord)operator(;)
keyword(begin)
  ident(Result) operator(:=) integer(0)operator(;)
  keyword(if) ident(FBuffers)operator(.)ident(Count) operator(=) integer(0) keyword(then)
  keyword(begin)
    ident(exit)operator(;)
  keyword(end)
  keyword(else)
  keyword(begin)
    keyword(if) ident(FBuffers)operator(.)ident(Count) operator(>) integer(1) keyword(then)
      ident(Inc)operator(()ident(Result)operator(,) operator(()ident(FBuffers)operator(.)ident(Count) operator(-) integer(1)operator(\)) operator(*) ident(FChunkSize)operator(\))operator(;)
    ident(Inc)operator(()ident(Result)operator(,) ident(PMemChunk)operator(()ident(FBuffers)operator([)ident(Fbuffers)operator(.)ident(Count) operator(-) integer(1)operator(])operator(\))operator(.)ident(Filled)operator(\))operator(;)
    ident(Dec)operator(()ident(Result)operator(,) ident(PMemChunk)operator(()ident(FBuffers)operator([)integer(0)operator(])operator(\))operator(.)ident(Read)operator(\))operator(;)
  keyword(end)operator(;)
keyword(end)operator(;)

keyword(procedure) ident(TFifo)operator(.)ident(Write)operator(()ident(Data)operator(:) ident(pointer)operator(;) ident(Size)operator(:) ident(LongWord)operator(\))operator(;)
keyword(var)
  ident(Privpointer)operator(:) ident(pointer)operator(;)
  ident(PrivSize)operator(:) ident(LongWord)operator(;)
  ident(Chunk)operator(:) ident(PMemChunk)operator(;)
  ident(PosInChunk)operator(:) ident(pointer)operator(;)
keyword(begin)
  keyword(if) ident(LongWord)operator(()ident(Data)operator(\)) operator(=) integer(0) keyword(then)
  keyword(begin)
    comment(// null pointer? somebody is trying to fool us, get out...)
    ident(Exit)operator(;)
  keyword(end)operator(;)
  ident(EnterCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  ident(PrivPointer) operator(:=) ident(Data)operator(;)
  ident(PrivSize) operator(:=) integer(0)operator(;)
  comment(// are already buffers there?)
  keyword(if) ident(FBuffers)operator(.)ident(count) operator(>) integer(0) keyword(then)
  keyword(begin)
    comment(// is the last one of them not completely filled?)
    keyword(if) ident(PMemChunk)operator(()ident(FBuffers)operator([)ident(FBuffers)operator(.)ident(count) operator(-) integer(1)operator(])operator(\))operator(.)ident(filled) operator(<) ident(FChunksize) keyword(then)
      comment(// not completely filled, so fill up the buffer.)
    keyword(begin)
      ident(Chunk) operator(:=) ident(PMemChunk)operator(()ident(FBuffers)operator([)ident(FBuffers)operator(.)ident(count) operator(-) integer(1)operator(])operator(\))operator(;)
      comment(// fetch chunkdata.)
      ident(PosInChunk) operator(:=) ident(Chunk)operator(.)ident(Data)operator(;)
      comment(// move to current fill pos...)
      ident(Inc)operator(()ident(LongWord)operator(()ident(PosInChunk)operator(\))operator(,) ident(Chunk)operator(.)ident(Filled)operator(\))operator(;)
      comment(// can we fill the chunk completely?)
      keyword(if) ident(Size) operator(>) ident(FChunksize) operator(-) ident(Chunk)operator(.)ident(Filled) keyword(then)
      keyword(begin)
        comment(// yes we can.)
        ident(Move)operator(()ident(PrivPointer)operator(^)operator(,) ident(PosInChunk)operator(^)operator(,) ident(FChunksize) operator(-) ident(Chunk)operator(.)ident(Filled)operator(\))operator(;)
        ident(Inc)operator(()ident(PrivSize)operator(,) ident(FChunksize) operator(-) ident(Chunk)operator(.)ident(Filled)operator(\))operator(;)
        ident(Inc)operator(()ident(LongWord)operator(()ident(PrivPointer)operator(\))operator(,) ident(FChunksize) operator(-) ident(Chunk)operator(.)ident(Filled)operator(\))operator(;)
        ident(Chunk)operator(.)ident(Filled) operator(:=) ident(FChunkSize)operator(;)
      keyword(end)
      keyword(else)
        comment(// we have to less data for filling the chunk completely,)
        comment(// just put everything in.)
      keyword(begin)
        ident(Move)operator(()ident(PrivPointer)operator(^)operator(,) ident(PosInChunk)operator(^)operator(,) ident(Size)operator(\))operator(;)
        ident(Inc)operator(()ident(PrivSize)operator(,) ident(Size)operator(\))operator(;)
        ident(Inc)operator(()ident(Chunk)operator(.)ident(Filled)operator(,) ident(Size)operator(\))operator(;)
      keyword(end)operator(;)
    keyword(end)operator(;)
  keyword(end)operator(;)
  comment(// as long as we have remaining stuff put it into new chunks.)
  keyword(while) operator(()ident(PrivSize) operator(<) ident(Size)operator(\)) keyword(do)
  keyword(begin)
    ident(new)operator(()ident(Chunk)operator(\))operator(;)
    ident(GetMem)operator(()ident(Chunk)operator(.)ident(Data)operator(,) ident(FChunksize)operator(\))operator(;)
    ident(Chunk)operator(.)ident(Read) operator(:=) integer(0)operator(;)
    comment(// can we fill an entire chunk with the remaining data?)
    keyword(if) ident(Privsize) operator(+) ident(FChunksize) operator(<) ident(Size) keyword(then)
    keyword(begin)
      comment(// yes we can, so put the stuff in.)
      ident(Move)operator(()ident(Privpointer)operator(^)operator(,) ident(Chunk)operator(.)ident(Data)operator(^)operator(,) ident(FChunksize)operator(\))operator(;)
      ident(Inc)operator(()ident(LongWord)operator(()ident(PrivPointer)operator(\))operator(,) ident(FChunksize)operator(\))operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(FChunksize)operator(\))operator(;)
      ident(Chunk)operator(.)ident(Filled) operator(:=) ident(FChunksize)operator(;)
    keyword(end)
    keyword(else) comment(// we have to less data to fill the entire chunk, just put the remaining stuff in.)
    keyword(begin)
      ident(Move)operator(()ident(Privpointer)operator(^)operator(,) ident(Chunk)operator(.)ident(Data)operator(^)operator(,) ident(Size) operator(-) ident(Privsize)operator(\))operator(;)
      ident(Chunk)operator(.)ident(Filled) operator(:=) ident(Size) operator(-) ident(Privsize)operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(Size) operator(-) ident(Privsize)operator(\))operator(;)
    keyword(end)operator(;)
    ident(Fbuffers)operator(.)ident(Add)operator(()ident(Chunk)operator(\))operator(;)
  keyword(end)operator(;)
  keyword(if) ident(Size) operator(<>) ident(Privsize) keyword(then)
    ident(Showmessage)operator(()string<delimiter(')content(miscalculation in TFifo.write)delimiter(')>operator(\))operator(;)
  ident(FBytesInFifo) operator(:=) ident(GetBytesInFifo)operator(;)
  ident(LeaveCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
keyword(end)operator(;)

keyword(procedure) ident(TFifo)operator(.)ident(Read)operator(()ident(Buff)operator(:) ident(pointer)operator(;) keyword(var) ident(ReqSize)operator(:) ident(LongWord)operator(\))operator(;)
keyword(var)
  ident(PrivSize)operator(:) ident(Integer)operator(;)
  ident(Privpos)operator(:) ident(pointer)operator(;)
  ident(Chunk)operator(:) ident(PMemChunk)operator(;)
  ident(ChunkPos)operator(:) ident(pointer)operator(;)
keyword(begin)
  keyword(if) ident(LongWord)operator(()ident(Buff)operator(\)) operator(=) integer(0) keyword(then)
  keyword(begin)
    comment(// null pointer? somebody is trying to fool us, get out...)
    ident(Exit)operator(;)
  keyword(end)operator(;)
  ident(EnterCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  ident(PrivSize) operator(:=) integer(0)operator(;)
  ident(Privpos) operator(:=) ident(Buff)operator(;)
  keyword(while) ident(FBuffers)operator(.)ident(Count) operator(>) integer(0) keyword(do)
  keyword(begin)
    ident(Chunk) operator(:=) ident(PMemChunk)operator(()ident(FBuffers)operator([)integer(0)operator(])operator(\))operator(;)
    ident(ChunkPos) operator(:=) ident(Chunk)operator(.)ident(data)operator(;)
    ident(Inc)operator(()ident(LongWord)operator(()ident(ChunkPos)operator(\))operator(,) ident(Chunk)operator(.)ident(Read)operator(\))operator(;)
    comment(// does the remaining part of the chunk fit into the buffer?)
    keyword(if) ident(PrivSize) operator(+) operator(()ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\)) operator(<) ident(ReqSize) keyword(then)
    keyword(begin) comment(// yep, it fits)
      ident(Move)operator(()ident(ChunkPos)operator(^)operator(,) ident(Privpos)operator(^)operator(,) ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\))operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\))operator(;)
      ident(FreeMem)operator(()ident(Chunk)operator(.)ident(Data)operator(\))operator(;)
      ident(Dispose)operator(()ident(Chunk)operator(\))operator(;)
      ident(FBuffers)operator(.)ident(Delete)operator(()integer(0)operator(\))operator(;)
    keyword(end)
    keyword(else) comment(// remaining part didn't fit, get as much as we can and increment the)
      comment(// read attribute.)
    keyword(begin)
      ident(Move)operator(()ident(ChunkPos)operator(^)operator(,) ident(Privpos)operator(^)operator(,) ident(ReqSize) operator(-) ident(PrivSize)operator(\))operator(;)
      ident(Inc)operator(()ident(Chunk)operator(.)ident(read)operator(,) ident(ReqSize) operator(-) ident(PrivSize)operator(\))operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(ReqSize) operator(-) ident(PrivSize)operator(\))operator(;)
      comment(// as we filled the buffer, we'll have to break here.)
      ident(break)operator(;)
    keyword(end)operator(;)
  keyword(end)operator(;)
  ident(FBytesInFifo) operator(:=) ident(GetBytesInFifo)operator(;)
  ident(LeaveCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  ident(ReqSize) operator(:=) ident(PrivSize)operator(;)
keyword(end)operator(;)

comment(// read Data from Stream without removing it from the Stream...)

keyword(procedure) ident(TFifo)operator(.)ident(PeekData)operator(()ident(Buff)operator(:) ident(pointer)operator(;) keyword(var) ident(ReqSize)operator(:) ident(LongWord)operator(\))operator(;)
keyword(var)
  ident(PrivSize)operator(:) ident(Integer)operator(;)
  ident(Privpos)operator(:) ident(pointer)operator(;)
  ident(Chunk)operator(:) ident(PMemChunk)operator(;)
  ident(ChunkPos)operator(:) ident(pointer)operator(;)
  ident(ChunkNr)operator(:) ident(Integer)operator(;)
keyword(begin)
  keyword(if) ident(LongWord)operator(()ident(Buff)operator(\)) operator(=) integer(0) keyword(then)
  keyword(begin)
    comment(// null pointer? somebody is trying to fool us, get out...)
    ident(Exit)operator(;)
  keyword(end)operator(;)
  ident(EnterCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  ident(PrivSize) operator(:=) integer(0)operator(;)
  ident(Privpos) operator(:=) ident(Buff)operator(;)
  ident(ChunkNr) operator(:=) integer(0)operator(;)
  keyword(while) ident(FBuffers)operator(.)ident(Count) operator(>) ident(ChunkNr) keyword(do)
  keyword(begin)
    ident(Chunk) operator(:=) ident(PMemChunk)operator(()ident(FBuffers)operator([)ident(ChunkNr)operator(])operator(\))operator(;)
    ident(ChunkPos) operator(:=) ident(Chunk)operator(.)ident(data)operator(;)
    ident(Inc)operator(()ident(LongWord)operator(()ident(ChunkPos)operator(\))operator(,) ident(Chunk)operator(.)ident(Read)operator(\))operator(;)
    comment(// does the remaining part of the chunk fit into the buffer?)
    keyword(if) ident(PrivSize) operator(+) operator(()ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\)) operator(<) ident(ReqSize) keyword(then)
    keyword(begin) comment(// yep, it fits)
      ident(Move)operator(()ident(ChunkPos)operator(^)operator(,) ident(Privpos)operator(^)operator(,) ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\))operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(Chunk)operator(.)ident(Filled) operator(-) ident(Chunk)operator(.)ident(read)operator(\))operator(;)
      ident(Inc)operator(()ident(ChunkNr)operator(\))operator(;)
    keyword(end)
    keyword(else) comment(// remaining part didn't fit, get as much as we can and increment the)
      comment(// read attribute.)
    keyword(begin)
      ident(Move)operator(()ident(ChunkPos)operator(^)operator(,) ident(Privpos)operator(^)operator(,) ident(ReqSize) operator(-) ident(PrivSize)operator(\))operator(;)
      ident(Inc)operator(()ident(PrivSize)operator(,) ident(ReqSize) operator(-) ident(PrivSize)operator(\))operator(;)
      comment(// as we filled the buffer, we'll have to break here.)
      ident(break)operator(;)
    keyword(end)operator(;)
  keyword(end)operator(;)
  ident(LeaveCriticalSection)operator(()ident(FCritSect)operator(\))operator(;)
  ident(ReqSize) operator(:=) ident(PrivSize)operator(;)
keyword(end)operator(;)

keyword(end)operator(.)
